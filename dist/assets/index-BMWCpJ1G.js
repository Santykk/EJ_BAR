(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var zu={exports:{}},ei={},Fu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lr=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Mh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),da=Symbol.iterator;function Fh(t){return t===null||typeof t!="object"?null:(t=da&&t[da]||t["@@iterator"],typeof t=="function"?t:null)}var Bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wu=Object.assign,Hu={};function zn(t,e,n){this.props=t,this.context=e,this.refs=Hu,this.updater=n||Bu}zn.prototype.isReactComponent={};zn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vu(){}Vu.prototype=zn.prototype;function cl(t,e,n){this.props=t,this.context=e,this.refs=Hu,this.updater=n||Bu}var dl=cl.prototype=new Vu;dl.constructor=cl;Wu(dl,zn.prototype);dl.isPureReactComponent=!0;var ha=Array.isArray,qu=Object.prototype.hasOwnProperty,hl={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Gu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qu.call(e,r)&&!Ku.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Lr,type:t,key:i,ref:o,props:s,_owner:hl.current}}function Bh(t,e){return{$$typeof:Lr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lr}function Wh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fa=/\/+/g;function bi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wh(""+t.key):e.toString(36)}function gs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lr:case Oh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bi(o,0):r,ha(s)?(n="",t!=null&&(n=t.replace(fa,"$&/")+"/"),gs(s,e,n,"",function(u){return u})):s!=null&&(fl(s)&&(s=Bh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ha(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+bi(i,l);o+=gs(i,e,n,a,s)}else if(a=Fh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+bi(i,l++),o+=gs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gr(t,e,n){if(t==null)return t;var r=[],s=0;return gs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Hh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},ms={transition:null},Vh={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ms,ReactCurrentOwner:hl};function Qu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Gr,forEach:function(t,e,n){Gr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gr(t,function(){e++}),e},toArray:function(t){return Gr(t,function(e){return e})||[]},only:function(t){if(!fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=zn;L.Fragment=Ah;L.Profiler=$h;L.PureComponent=cl;L.StrictMode=Rh;L.Suspense=Dh;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;L.act=Qu;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)qu.call(e,a)&&!Ku.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Lr,type:t.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:Lh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ih,_context:t},t.Consumer=t};L.createElement=Gu;L.createFactory=function(t){var e=Gu.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Uh,render:t}};L.isValidElement=fl;L.lazy=function(t){return{$$typeof:zh,_payload:{_status:-1,_result:t},_init:Hh}};L.memo=function(t,e){return{$$typeof:Mh,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};L.unstable_act=Qu;L.useCallback=function(t,e){return we.current.useCallback(t,e)};L.useContext=function(t){return we.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return we.current.useDeferredValue(t)};L.useEffect=function(t,e){return we.current.useEffect(t,e)};L.useId=function(){return we.current.useId()};L.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return we.current.useMemo(t,e)};L.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};L.useRef=function(t){return we.current.useRef(t)};L.useState=function(t){return we.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return we.current.useTransition()};L.version="18.3.1";Fu.exports=L;var T=Fu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=T,Kh=Symbol.for("react.element"),Gh=Symbol.for("react.fragment"),Qh=Object.prototype.hasOwnProperty,Jh=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yh={key:!0,ref:!0,__self:!0,__source:!0};function Ju(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Qh.call(e,r)&&!Yh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Kh,type:t,key:i,ref:o,props:s,_owner:Jh.current}}ei.Fragment=Gh;ei.jsx=Ju;ei.jsxs=Ju;zu.exports=ei;var c=zu.exports,Yu={exports:{}},Oe={},Xu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var $=N.length;N.push(R);e:for(;0<$;){var X=$-1>>>1,oe=N[X];if(0<s(oe,R))N[X]=R,N[$]=oe,$=X;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],$=N.pop();if($!==R){N[0]=$;e:for(var X=0,oe=N.length,qr=oe>>>1;X<qr;){var Dt=2*(X+1)-1,Ei=N[Dt],Mt=Dt+1,Kr=N[Mt];if(0>s(Ei,$))Mt<oe&&0>s(Kr,Ei)?(N[X]=Kr,N[Mt]=$,X=Mt):(N[X]=Ei,N[Dt]=$,X=Dt);else if(Mt<oe&&0>s(Kr,$))N[X]=Kr,N[Mt]=$,X=Mt;else break e}}return R}function s(N,R){var $=N.sortIndex-R.sortIndex;return $!==0?$:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,g=3,v=!1,y=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=N)r(u),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(u)}}function w(N){if(_=!1,p(N),!y)if(n(a)!==null)y=!0,Si(E);else{var R=n(u);R!==null&&ji(w,R.startTime-N)}}function E(N,R){y=!1,_&&(_=!1,m(x),x=-1),v=!0;var $=g;try{for(p(R),f=n(a);f!==null&&(!(f.expirationTime>R)||N&&!M());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var oe=X(f.expirationTime<=R);R=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(a)&&r(a),p(R)}else r(a);f=n(a)}if(f!==null)var qr=!0;else{var Dt=n(u);Dt!==null&&ji(w,Dt.startTime-R),qr=!1}return qr}finally{f=null,g=$,v=!1}}var S=!1,b=null,x=-1,O=5,P=-1;function M(){return!(t.unstable_now()-P<O)}function H(){if(b!==null){var N=t.unstable_now();P=N;var R=!0;try{R=b(!0,N)}finally{R?V():(S=!1,b=null)}}else S=!1}var V;if(typeof h=="function")V=function(){h(H)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,Vr=Ut.port2;Ut.port1.onmessage=H,V=function(){Vr.postMessage(null)}}else V=function(){j(H,0)};function Si(N){b=N,S||(S=!0,V())}function ji(N,R){x=j(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Si(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var $=g;g=R;try{return N()}finally{g=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=g;g=N;try{return R()}finally{g=$}},t.unstable_scheduleCallback=function(N,R,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,N={id:d++,callback:R,priorityLevel:N,startTime:$,expirationTime:oe,sortIndex:-1},$>X?(N.sortIndex=$,e(u,N),n(a)===null&&N===n(u)&&(_?(m(x),x=-1):_=!0,ji(w,$-X))):(N.sortIndex=oe,e(a,N),y||v||(y=!0,Si(E))),N},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(N){var R=g;return function(){var $=g;g=R;try{return N.apply(this,arguments)}finally{g=$}}}})(Zu);Xu.exports=Zu;var Xh=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=T,Pe=Xh;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ec=new Set,vr={};function nn(t,e){An(t,e),An(t+"Capture",e)}function An(t,e){for(vr[t]=e,t=0;t<e.length;t++)ec.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pa={},ga={};function tf(t){return oo.call(ga,t)?!0:oo.call(pa,t)?!1:ef.test(t)?ga[t]=!0:(pa[t]=!0,!1)}function nf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rf(t,e,n,r){if(e===null||typeof e>"u"||nf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var pl=/[\-:]([a-z])/g;function gl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pl,gl);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pl,gl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pl,gl);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function ml(t,e,n,r){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rf(e,n,s,r)&&(n=null),r||s===null?tf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ht=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qr=Symbol.for("react.element"),pn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),tc=Symbol.for("react.provider"),nc=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),rc=Symbol.for("react.offscreen"),ma=Symbol.iterator;function Vn(t){return t===null||typeof t!="object"?null:(t=ma&&t[ma]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Ci;function er(t){if(Ci===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ci=e&&e[1]||""}return`
`+Ci+t}var Ni=!1;function Ti(t,e){if(!t||Ni)return"";Ni=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ni=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?er(t):""}function sf(t){switch(t.tag){case 5:return er(t.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return t=Ti(t.type,!1),t;case 11:return t=Ti(t.type.render,!1),t;case 1:return t=Ti(t.type,!0),t;default:return""}}function co(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gn:return"Fragment";case pn:return"Portal";case lo:return"Profiler";case vl:return"StrictMode";case ao:return"Suspense";case uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nc:return(t.displayName||"Context")+".Consumer";case tc:return(t._context.displayName||"Context")+".Provider";case yl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wl:return e=t.displayName||null,e!==null?e:co(t.type)||"Memo";case mt:e=t._payload,t=t._init;try{return co(t(e))}catch{}}return null}function of(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(e);case 8:return e===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ot(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lf(t){var e=sc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jr(t){t._valueTracker||(t._valueTracker=lf(t))}function ic(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ho(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function va(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ot(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oc(t,e){e=e.checked,e!=null&&ml(t,"checked",e,!1)}function fo(t,e){oc(t,e);var n=Ot(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?po(t,e.type,n):e.hasOwnProperty("defaultValue")&&po(t,e.type,Ot(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ya(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function po(t,e,n){(e!=="number"||Cs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tr=Array.isArray;function bn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ot(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function go(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(tr(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ot(n)}}function lc(t,e){var n=Ot(e.value),r=Ot(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _a(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ac(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ac(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yr,uc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},af=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(t){af.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ir[e]=ir[t]})});function cc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ir.hasOwnProperty(t)&&ir[t]?(""+e).trim():e+"px"}function dc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var uf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(t,e){if(e){if(uf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function yo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function _l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _o=null,Cn=null,Nn=null;function xa(t){if(t=Mr(t)){if(typeof _o!="function")throw Error(k(280));var e=t.stateNode;e&&(e=ii(e),_o(t.stateNode,t.type,e))}}function hc(t){Cn?Nn?Nn.push(t):Nn=[t]:Cn=t}function fc(){if(Cn){var t=Cn,e=Nn;if(Nn=Cn=null,xa(t),e)for(t=0;t<e.length;t++)xa(e[t])}}function pc(t,e){return t(e)}function gc(){}var Pi=!1;function mc(t,e,n){if(Pi)return t(e,n);Pi=!0;try{return pc(t,e,n)}finally{Pi=!1,(Cn!==null||Nn!==null)&&(gc(),fc())}}function wr(t,e){var n=t.stateNode;if(n===null)return null;var r=ii(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var xo=!1;if(at)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{xo=!1}function cf(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var or=!1,Ns=null,Ts=!1,ko=null,df={onError:function(t){or=!0,Ns=t}};function hf(t,e,n,r,s,i,o,l,a){or=!1,Ns=null,cf.apply(df,arguments)}function ff(t,e,n,r,s,i,o,l,a){if(hf.apply(this,arguments),or){if(or){var u=Ns;or=!1,Ns=null}else throw Error(k(198));Ts||(Ts=!0,ko=u)}}function rn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ka(t){if(rn(t)!==t)throw Error(k(188))}function pf(t){var e=t.alternate;if(!e){if(e=rn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ka(s),t;if(i===r)return ka(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function yc(t){return t=pf(t),t!==null?wc(t):null}function wc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wc(t);if(e!==null)return e;t=t.sibling}return null}var _c=Pe.unstable_scheduleCallback,Sa=Pe.unstable_cancelCallback,gf=Pe.unstable_shouldYield,mf=Pe.unstable_requestPaint,Z=Pe.unstable_now,vf=Pe.unstable_getCurrentPriorityLevel,xl=Pe.unstable_ImmediatePriority,xc=Pe.unstable_UserBlockingPriority,Ps=Pe.unstable_NormalPriority,yf=Pe.unstable_LowPriority,kc=Pe.unstable_IdlePriority,ti=null,Ze=null;function wf(t){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ti,t,void 0,(t.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:kf,_f=Math.log,xf=Math.LN2;function kf(t){return t>>>=0,t===0?32:31-(_f(t)/xf|0)|0}var Xr=64,Zr=4194304;function nr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Os(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=nr(l):(i&=o,i!==0&&(r=nr(i)))}else o=n&~s,o!==0?r=nr(o):i!==0&&(r=nr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qe(e),s=1<<n,r|=t[n],e&=~s;return r}function Sf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Sf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function So(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sc(){var t=Xr;return Xr<<=1,!(Xr&4194240)&&(Xr=64),t}function Oi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ur(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qe(e),t[e]=n}function Ef(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function kl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var D=0;function jc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ec,Sl,bc,Cc,Nc,jo=!1,es=[],St=null,jt=null,Et=null,_r=new Map,xr=new Map,yt=[],bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":_r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(e.pointerId)}}function Kn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mr(e),e!==null&&Sl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Cf(t,e,n,r,s){switch(e){case"focusin":return St=Kn(St,t,e,n,r,s),!0;case"dragenter":return jt=Kn(jt,t,e,n,r,s),!0;case"mouseover":return Et=Kn(Et,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _r.set(i,Kn(_r.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xr.set(i,Kn(xr.get(i)||null,t,e,n,r,s)),!0}return!1}function Tc(t){var e=qt(t.target);if(e!==null){var n=rn(e);if(n!==null){if(e=n.tag,e===13){if(e=vc(n),e!==null){t.blockedOn=e,Nc(t.priority,function(){bc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wo=r,n.target.dispatchEvent(r),wo=null}else return e=Mr(n),e!==null&&Sl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ea(t,e,n){vs(t)&&n.delete(e)}function Nf(){jo=!1,St!==null&&vs(St)&&(St=null),jt!==null&&vs(jt)&&(jt=null),Et!==null&&vs(Et)&&(Et=null),_r.forEach(Ea),xr.forEach(Ea)}function Gn(t,e){t.blockedOn===e&&(t.blockedOn=null,jo||(jo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Nf)))}function kr(t){function e(s){return Gn(s,t)}if(0<es.length){Gn(es[0],t);for(var n=1;n<es.length;n++){var r=es[n];r.blockedOn===t&&(r.blockedOn=null)}}for(St!==null&&Gn(St,t),jt!==null&&Gn(jt,t),Et!==null&&Gn(Et,t),_r.forEach(e),xr.forEach(e),n=0;n<yt.length;n++)r=yt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yt.length&&(n=yt[0],n.blockedOn===null);)Tc(n),n.blockedOn===null&&yt.shift()}var Tn=ht.ReactCurrentBatchConfig,As=!0;function Tf(t,e,n,r){var s=D,i=Tn.transition;Tn.transition=null;try{D=1,jl(t,e,n,r)}finally{D=s,Tn.transition=i}}function Pf(t,e,n,r){var s=D,i=Tn.transition;Tn.transition=null;try{D=4,jl(t,e,n,r)}finally{D=s,Tn.transition=i}}function jl(t,e,n,r){if(As){var s=Eo(t,e,n,r);if(s===null)Fi(t,e,r,Rs,n),ja(t,r);else if(Cf(s,t,e,n,r))r.stopPropagation();else if(ja(t,r),e&4&&-1<bf.indexOf(t)){for(;s!==null;){var i=Mr(s);if(i!==null&&Ec(i),i=Eo(t,e,n,r),i===null&&Fi(t,e,r,Rs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fi(t,e,r,null,n)}}var Rs=null;function Eo(t,e,n,r){if(Rs=null,t=_l(r),t=qt(t),t!==null)if(e=rn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rs=t,null}function Pc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vf()){case xl:return 1;case xc:return 4;case Ps:case yf:return 16;case kc:return 536870912;default:return 16}default:return 16}}var xt=null,El=null,ys=null;function Oc(){if(ys)return ys;var t,e=El,n=e.length,r,s="value"in xt?xt.value:xt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ys=s.slice(t,1<r?1-r:void 0)}function ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function ba(){return!1}function Ae(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ts:ba,this.isPropagationStopped=ba,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),e}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Ae(Fn),Dr=Q({},Fn,{view:0,detail:0}),Of=Ae(Dr),Ai,Ri,Qn,ni=Q({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ai=t.screenX-Qn.screenX,Ri=t.screenY-Qn.screenY):Ri=Ai=0,Qn=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Ri}}),Ca=Ae(ni),Af=Q({},ni,{dataTransfer:0}),Rf=Ae(Af),$f=Q({},Dr,{relatedTarget:0}),$i=Ae($f),If=Q({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lf=Ae(If),Uf=Q({},Fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Df=Ae(Uf),Mf=Q({},Fn,{data:0}),Na=Ae(Mf),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bf[t])?!!e[t]:!1}function Cl(){return Wf}var Hf=Q({},Dr,{key:function(t){if(t.key){var e=zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ff[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vf=Ae(Hf),qf=Q({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=Ae(qf),Kf=Q({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Gf=Ae(Kf),Qf=Q({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=Ae(Qf),Yf=Q({},ni,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Ae(Yf),Zf=[9,13,27,32],Nl=at&&"CompositionEvent"in window,lr=null;at&&"documentMode"in document&&(lr=document.documentMode);var ep=at&&"TextEvent"in window&&!lr,Ac=at&&(!Nl||lr&&8<lr&&11>=lr),Pa=" ",Oa=!1;function Rc(t,e){switch(t){case"keyup":return Zf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mn=!1;function tp(t,e){switch(t){case"compositionend":return $c(e);case"keypress":return e.which!==32?null:(Oa=!0,Pa);case"textInput":return t=e.data,t===Pa&&Oa?null:t;default:return null}}function np(t,e){if(mn)return t==="compositionend"||!Nl&&Rc(t,e)?(t=Oc(),ys=El=xt=null,mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ac&&e.locale!=="ko"?null:e.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rp[t.type]:e==="textarea"}function Ic(t,e,n,r){hc(r),e=$s(e,"onChange"),0<e.length&&(n=new bl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ar=null,Sr=null;function sp(t){qc(t,0)}function ri(t){var e=wn(t);if(ic(e))return t}function ip(t,e){if(t==="change")return e}var Lc=!1;if(at){var Ii;if(at){var Li="oninput"in document;if(!Li){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),Li=typeof Ra.oninput=="function"}Ii=Li}else Ii=!1;Lc=Ii&&(!document.documentMode||9<document.documentMode)}function $a(){ar&&(ar.detachEvent("onpropertychange",Uc),Sr=ar=null)}function Uc(t){if(t.propertyName==="value"&&ri(Sr)){var e=[];Ic(e,Sr,t,_l(t)),mc(sp,e)}}function op(t,e,n){t==="focusin"?($a(),ar=e,Sr=n,ar.attachEvent("onpropertychange",Uc)):t==="focusout"&&$a()}function lp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ri(Sr)}function ap(t,e){if(t==="click")return ri(e)}function up(t,e){if(t==="input"||t==="change")return ri(e)}function cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:cp;function jr(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oo.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function Ia(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function La(t,e){var n=Ia(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ia(n)}}function Dc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mc(){for(var t=window,e=Cs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cs(t.document)}return e}function Tl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dp(t){var e=Mc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dc(n.ownerDocument.documentElement,n)){if(r!==null&&Tl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=La(n,i);var o=La(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hp=at&&"documentMode"in document&&11>=document.documentMode,vn=null,bo=null,ur=null,Co=!1;function Ua(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Co||vn==null||vn!==Cs(r)||(r=vn,"selectionStart"in r&&Tl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ur&&jr(ur,r)||(ur=r,r=$s(bo,"onSelect"),0<r.length&&(e=new bl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vn)))}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yn={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},Ui={},zc={};at&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function si(t){if(Ui[t])return Ui[t];if(!yn[t])return t;var e=yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zc)return Ui[t]=e[n];return t}var Fc=si("animationend"),Bc=si("animationiteration"),Wc=si("animationstart"),Hc=si("transitionend"),Vc=new Map,Da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(t,e){Vc.set(t,e),nn(e,[t])}for(var Di=0;Di<Da.length;Di++){var Mi=Da[Di],fp=Mi.toLowerCase(),pp=Mi[0].toUpperCase()+Mi.slice(1);Rt(fp,"on"+pp)}Rt(Fc,"onAnimationEnd");Rt(Bc,"onAnimationIteration");Rt(Wc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Hc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function Ma(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ff(r,e,void 0,t),t.currentTarget=null}function qc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ma(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ma(s,l,u),i=a}}}if(Ts)throw t=ko,Ts=!1,ko=null,t}function B(t,e){var n=e[Ao];n===void 0&&(n=e[Ao]=new Set);var r=t+"__bubble";n.has(r)||(Kc(e,t,2,!1),n.add(r))}function zi(t,e,n){var r=0;e&&(r|=4),Kc(n,t,r,e)}var rs="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[rs]){t[rs]=!0,ec.forEach(function(n){n!=="selectionchange"&&(gp.has(n)||zi(n,!1,t),zi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rs]||(e[rs]=!0,zi("selectionchange",!1,e))}}function Kc(t,e,n,r){switch(Pc(e)){case 1:var s=Tf;break;case 4:s=Pf;break;default:s=jl}n=s.bind(null,e,n,t),s=void 0,!xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}mc(function(){var u=i,d=_l(n),f=[];e:{var g=Vc.get(t);if(g!==void 0){var v=bl,y=t;switch(t){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":v=Vf;break;case"focusin":y="focus",v=$i;break;case"focusout":y="blur",v=$i;break;case"beforeblur":case"afterblur":v=$i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gf;break;case Fc:case Bc:case Wc:v=Lf;break;case Hc:v=Jf;break;case"scroll":v=Of;break;case"wheel":v=Xf;break;case"copy":case"cut":case"paste":v=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ta}var _=(e&4)!==0,j=!_&&t==="scroll",m=_?g!==null?g+"Capture":null:g;_=[];for(var h=u,p;h!==null;){p=h;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,m!==null&&(w=wr(h,m),w!=null&&_.push(br(h,w,p)))),j)break;h=h.return}0<_.length&&(g=new v(g,y,null,n,d),f.push({event:g,listeners:_}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==wo&&(y=n.relatedTarget||n.fromElement)&&(qt(y)||y[ut]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?qt(y):null,y!==null&&(j=rn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=Ca,w="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ta,w="onPointerLeave",m="onPointerEnter",h="pointer"),j=v==null?g:wn(v),p=y==null?g:wn(y),g=new _(w,h+"leave",v,n,d),g.target=j,g.relatedTarget=p,w=null,qt(d)===u&&(_=new _(m,h+"enter",y,n,d),_.target=p,_.relatedTarget=j,w=_),j=w,v&&y)t:{for(_=v,m=y,h=0,p=_;p;p=on(p))h++;for(p=0,w=m;w;w=on(w))p++;for(;0<h-p;)_=on(_),h--;for(;0<p-h;)m=on(m),p--;for(;h--;){if(_===m||m!==null&&_===m.alternate)break t;_=on(_),m=on(m)}_=null}else _=null;v!==null&&za(f,g,v,_,!1),y!==null&&j!==null&&za(f,j,y,_,!0)}}e:{if(g=u?wn(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var E=ip;else if(Aa(g))if(Lc)E=up;else{E=lp;var S=op}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=ap);if(E&&(E=E(t,u))){Ic(f,E,n,d);break e}S&&S(t,g,u),t==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&po(g,"number",g.value)}switch(S=u?wn(u):window,t){case"focusin":(Aa(S)||S.contentEditable==="true")&&(vn=S,bo=u,ur=null);break;case"focusout":ur=bo=vn=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,Ua(f,n,d);break;case"selectionchange":if(hp)break;case"keydown":case"keyup":Ua(f,n,d)}var b;if(Nl)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else mn?Rc(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Ac&&n.locale!=="ko"&&(mn||x!=="onCompositionStart"?x==="onCompositionEnd"&&mn&&(b=Oc()):(xt=d,El="value"in xt?xt.value:xt.textContent,mn=!0)),S=$s(u,x),0<S.length&&(x=new Na(x,t,null,n,d),f.push({event:x,listeners:S}),b?x.data=b:(b=$c(n),b!==null&&(x.data=b)))),(b=ep?tp(t,n):np(t,n))&&(u=$s(u,"onBeforeInput"),0<u.length&&(d=new Na("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=b))}qc(f,e)})}function br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $s(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wr(t,n),i!=null&&r.unshift(br(t,i,s)),i=wr(t,e),i!=null&&r.push(br(t,i,s))),t=t.return}return r}function on(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function za(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=wr(n,i),a!=null&&o.unshift(br(n,a,l))):s||(a=wr(n,i),a!=null&&o.push(br(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function Fa(t){return(typeof t=="string"?t:""+t).replace(mp,`
`).replace(vp,"")}function ss(t,e,n){if(e=Fa(e),Fa(t)!==e&&n)throw Error(k(425))}function Is(){}var No=null,To=null;function Po(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,Ba=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ba<"u"?function(t){return Ba.resolve(null).then(t).catch(_p)}:Oo;function _p(t){setTimeout(function(){throw t})}function Bi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),kr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);kr(e)}function bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Bn,Cr="__reactProps$"+Bn,ut="__reactContainer$"+Bn,Ao="__reactEvents$"+Bn,xp="__reactListeners$"+Bn,kp="__reactHandles$"+Bn;function qt(t){var e=t[Xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[Xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wa(t);t!==null;){if(n=t[Xe])return n;t=Wa(t)}return e}t=n,n=t.parentNode}return null}function Mr(t){return t=t[Xe]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function ii(t){return t[Cr]||null}var Ro=[],_n=-1;function $t(t){return{current:t}}function W(t){0>_n||(t.current=Ro[_n],Ro[_n]=null,_n--)}function F(t,e){_n++,Ro[_n]=t.current,t.current=e}var At={},ge=$t(At),je=$t(!1),Yt=At;function Rn(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(t){return t=t.childContextTypes,t!=null}function Ls(){W(je),W(ge)}function Ha(t,e,n){if(ge.current!==At)throw Error(k(168));F(ge,e),F(je,n)}function Gc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,of(t)||"Unknown",s));return Q({},n,r)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Yt=ge.current,F(ge,t),F(je,je.current),!0}function Va(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Gc(t,e,Yt),r.__reactInternalMemoizedMergedChildContext=t,W(je),W(ge),F(ge,t)):W(je),F(je,n)}var st=null,oi=!1,Wi=!1;function Qc(t){st===null?st=[t]:st.push(t)}function Sp(t){oi=!0,Qc(t)}function It(){if(!Wi&&st!==null){Wi=!0;var t=0,e=D;try{var n=st;for(D=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}st=null,oi=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),_c(xl,It),s}finally{D=e,Wi=!1}}return null}var xn=[],kn=0,Ds=null,Ms=0,Re=[],$e=0,Xt=null,it=1,ot="";function Bt(t,e){xn[kn++]=Ms,xn[kn++]=Ds,Ds=t,Ms=e}function Jc(t,e,n){Re[$e++]=it,Re[$e++]=ot,Re[$e++]=Xt,Xt=t;var r=it;t=ot;var s=32-qe(r)-1;r&=~(1<<s),n+=1;var i=32-qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,it=1<<32-qe(e)+s|n<<s|r,ot=i+t}else it=1<<i|n<<s|r,ot=t}function Pl(t){t.return!==null&&(Bt(t,1),Jc(t,1,0))}function Ol(t){for(;t===Ds;)Ds=xn[--kn],xn[kn]=null,Ms=xn[--kn],xn[kn]=null;for(;t===Xt;)Xt=Re[--$e],Re[$e]=null,ot=Re[--$e],Re[$e]=null,it=Re[--$e],Re[$e]=null}var Te=null,Ne=null,q=!1,Ve=null;function Yc(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Te=t,Ne=bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Te=t,Ne=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xt!==null?{id:it,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Te=t,Ne=null,!0):!1;default:return!1}}function $o(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Io(t){if(q){var e=Ne;if(e){var n=e;if(!qa(t,e)){if($o(t))throw Error(k(418));e=bt(n.nextSibling);var r=Te;e&&qa(t,e)?Yc(r,n):(t.flags=t.flags&-4097|2,q=!1,Te=t)}}else{if($o(t))throw Error(k(418));t.flags=t.flags&-4097|2,q=!1,Te=t}}}function Ka(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Te=t}function is(t){if(t!==Te)return!1;if(!q)return Ka(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Po(t.type,t.memoizedProps)),e&&(e=Ne)){if($o(t))throw Xc(),Error(k(418));for(;e;)Yc(t,e),e=bt(e.nextSibling)}if(Ka(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ne=bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ne=null}}else Ne=Te?bt(t.stateNode.nextSibling):null;return!0}function Xc(){for(var t=Ne;t;)t=bt(t.nextSibling)}function $n(){Ne=Te=null,q=!1}function Al(t){Ve===null?Ve=[t]:Ve.push(t)}var jp=ht.ReactCurrentBatchConfig;function Jn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function os(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ga(t){var e=t._init;return e(t._payload)}function Zc(t){function e(m,h){if(t){var p=m.deletions;p===null?(m.deletions=[h],m.flags|=16):p.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function s(m,h){return m=Pt(m,h),m.index=0,m.sibling=null,m}function i(m,h,p){return m.index=p,t?(p=m.alternate,p!==null?(p=p.index,p<h?(m.flags|=2,h):p):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,h,p,w){return h===null||h.tag!==6?(h=Ji(p,m.mode,w),h.return=m,h):(h=s(h,p),h.return=m,h)}function a(m,h,p,w){var E=p.type;return E===gn?d(m,h,p.props.children,w,p.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===mt&&Ga(E)===h.type)?(w=s(h,p.props),w.ref=Jn(m,h,p),w.return=m,w):(w=bs(p.type,p.key,p.props,null,m.mode,w),w.ref=Jn(m,h,p),w.return=m,w)}function u(m,h,p,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Yi(p,m.mode,w),h.return=m,h):(h=s(h,p.children||[]),h.return=m,h)}function d(m,h,p,w,E){return h===null||h.tag!==7?(h=Jt(p,m.mode,w,E),h.return=m,h):(h=s(h,p),h.return=m,h)}function f(m,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ji(""+h,m.mode,p),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:return p=bs(h.type,h.key,h.props,null,m.mode,p),p.ref=Jn(m,null,h),p.return=m,p;case pn:return h=Yi(h,m.mode,p),h.return=m,h;case mt:var w=h._init;return f(m,w(h._payload),p)}if(tr(h)||Vn(h))return h=Jt(h,m.mode,p,null),h.return=m,h;os(m,h)}return null}function g(m,h,p,w){var E=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:l(m,h,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qr:return p.key===E?a(m,h,p,w):null;case pn:return p.key===E?u(m,h,p,w):null;case mt:return E=p._init,g(m,h,E(p._payload),w)}if(tr(p)||Vn(p))return E!==null?null:d(m,h,p,w,null);os(m,p)}return null}function v(m,h,p,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(p)||null,l(h,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qr:return m=m.get(w.key===null?p:w.key)||null,a(h,m,w,E);case pn:return m=m.get(w.key===null?p:w.key)||null,u(h,m,w,E);case mt:var S=w._init;return v(m,h,p,S(w._payload),E)}if(tr(w)||Vn(w))return m=m.get(p)||null,d(h,m,w,E,null);os(h,w)}return null}function y(m,h,p,w){for(var E=null,S=null,b=h,x=h=0,O=null;b!==null&&x<p.length;x++){b.index>x?(O=b,b=null):O=b.sibling;var P=g(m,b,p[x],w);if(P===null){b===null&&(b=O);break}t&&b&&P.alternate===null&&e(m,b),h=i(P,h,x),S===null?E=P:S.sibling=P,S=P,b=O}if(x===p.length)return n(m,b),q&&Bt(m,x),E;if(b===null){for(;x<p.length;x++)b=f(m,p[x],w),b!==null&&(h=i(b,h,x),S===null?E=b:S.sibling=b,S=b);return q&&Bt(m,x),E}for(b=r(m,b);x<p.length;x++)O=v(b,m,x,p[x],w),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?x:O.key),h=i(O,h,x),S===null?E=O:S.sibling=O,S=O);return t&&b.forEach(function(M){return e(m,M)}),q&&Bt(m,x),E}function _(m,h,p,w){var E=Vn(p);if(typeof E!="function")throw Error(k(150));if(p=E.call(p),p==null)throw Error(k(151));for(var S=E=null,b=h,x=h=0,O=null,P=p.next();b!==null&&!P.done;x++,P=p.next()){b.index>x?(O=b,b=null):O=b.sibling;var M=g(m,b,P.value,w);if(M===null){b===null&&(b=O);break}t&&b&&M.alternate===null&&e(m,b),h=i(M,h,x),S===null?E=M:S.sibling=M,S=M,b=O}if(P.done)return n(m,b),q&&Bt(m,x),E;if(b===null){for(;!P.done;x++,P=p.next())P=f(m,P.value,w),P!==null&&(h=i(P,h,x),S===null?E=P:S.sibling=P,S=P);return q&&Bt(m,x),E}for(b=r(m,b);!P.done;x++,P=p.next())P=v(b,m,x,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?x:P.key),h=i(P,h,x),S===null?E=P:S.sibling=P,S=P);return t&&b.forEach(function(H){return e(m,H)}),q&&Bt(m,x),E}function j(m,h,p,w){if(typeof p=="object"&&p!==null&&p.type===gn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Qr:e:{for(var E=p.key,S=h;S!==null;){if(S.key===E){if(E=p.type,E===gn){if(S.tag===7){n(m,S.sibling),h=s(S,p.props.children),h.return=m,m=h;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===mt&&Ga(E)===S.type){n(m,S.sibling),h=s(S,p.props),h.ref=Jn(m,S,p),h.return=m,m=h;break e}n(m,S);break}else e(m,S);S=S.sibling}p.type===gn?(h=Jt(p.props.children,m.mode,w,p.key),h.return=m,m=h):(w=bs(p.type,p.key,p.props,null,m.mode,w),w.ref=Jn(m,h,p),w.return=m,m=w)}return o(m);case pn:e:{for(S=p.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(m,h.sibling),h=s(h,p.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=Yi(p,m.mode,w),h.return=m,m=h}return o(m);case mt:return S=p._init,j(m,h,S(p._payload),w)}if(tr(p))return y(m,h,p,w);if(Vn(p))return _(m,h,p,w);os(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(m,h.sibling),h=s(h,p),h.return=m,m=h):(n(m,h),h=Ji(p,m.mode,w),h.return=m,m=h),o(m)):n(m,h)}return j}var In=Zc(!0),ed=Zc(!1),zs=$t(null),Fs=null,Sn=null,Rl=null;function $l(){Rl=Sn=Fs=null}function Il(t){var e=zs.current;W(zs),t._currentValue=e}function Lo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Fs=t,Rl=Sn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function De(t){var e=t._currentValue;if(Rl!==t)if(t={context:t,memoizedValue:e,next:null},Sn===null){if(Fs===null)throw Error(k(308));Sn=t,Fs.dependencies={lanes:0,firstContext:t}}else Sn=Sn.next=t;return e}var Kt=null;function Ll(t){Kt===null?Kt=[t]:Kt.push(t)}function td(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ll(e)):(n.next=s.next,s.next=n),e.interleaved=n,ct(t,r)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ct(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ct(t,n)}return s=r.interleaved,s===null?(e.next=e,Ll(r)):(e.next=s.next,s.next=e),r.interleaved=e,ct(t,n)}function _s(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kl(t,n)}}function Qa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bs(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,v=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(g=e,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(v,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,g=typeof y=="function"?y.call(v,f,g):y,g==null)break e;f=Q({},f,g);break e;case 2:vt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=f):d=d.next=v,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);en|=o,t.lanes=o,t.memoizedState=f}}function Ja(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var zr={},et=$t(zr),Nr=$t(zr),Tr=$t(zr);function Gt(t){if(t===zr)throw Error(k(174));return t}function Dl(t,e){switch(F(Tr,e),F(Nr,t),F(et,zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mo(e,t)}W(et),F(et,e)}function Ln(){W(et),W(Nr),W(Tr)}function rd(t){Gt(Tr.current);var e=Gt(et.current),n=mo(e,t.type);e!==n&&(F(Nr,t),F(et,n))}function Ml(t){Nr.current===t&&(W(et),W(Nr))}var K=$t(0);function Ws(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=[];function zl(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var xs=ht.ReactCurrentDispatcher,Vi=ht.ReactCurrentBatchConfig,Zt=0,G=null,se=null,le=null,Hs=!1,cr=!1,Pr=0,Ep=0;function he(){throw Error(k(321))}function Fl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Bl(t,e,n,r,s,i){if(Zt=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?Tp:Pp,t=n(r,s),cr){i=0;do{if(cr=!1,Pr=0,25<=i)throw Error(k(301));i+=1,le=se=null,e.updateQueue=null,xs.current=Op,t=n(r,s)}while(cr)}if(xs.current=Vs,e=se!==null&&se.next!==null,Zt=0,le=se=G=null,Hs=!1,e)throw Error(k(300));return t}function Wl(){var t=Pr!==0;return Pr=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?G.memoizedState=le=t:le=le.next=t,le}function Me(){if(se===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=le===null?G.memoizedState:le.next;if(e!==null)le=e,se=t;else{if(t===null)throw Error(k(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?G.memoizedState=le=t:le=le.next=t}return le}function Or(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=Me(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((Zt&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,G.lanes|=d,en|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,en|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ki(t){var e=Me(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sd(){}function id(t,e){var n=G,r=Me(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,Hl(ad.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Ar(9,ld.bind(null,n,r,s,e),void 0,null),ae===null)throw Error(k(349));Zt&30||od(n,e,s)}return s}function od(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ld(t,e,n,r){e.value=n,e.getSnapshot=r,ud(e)&&cd(t)}function ad(t,e,n){return n(function(){ud(e)&&cd(t)})}function ud(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function cd(t){var e=ct(t,1);e!==null&&Ke(e,t,1,-1)}function Ya(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},e.queue=t,t=t.dispatch=Np.bind(null,G,t),[e.memoizedState,t]}function Ar(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dd(){return Me().memoizedState}function ks(t,e,n,r){var s=Je();G.flags|=t,s.memoizedState=Ar(1|e,n,void 0,r===void 0?null:r)}function li(t,e,n,r){var s=Me();r=r===void 0?null:r;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,r!==null&&Fl(r,o.deps)){s.memoizedState=Ar(e,n,i,r);return}}G.flags|=t,s.memoizedState=Ar(1|e,n,i,r)}function Xa(t,e){return ks(8390656,8,t,e)}function Hl(t,e){return li(2048,8,t,e)}function hd(t,e){return li(4,2,t,e)}function fd(t,e){return li(4,4,t,e)}function pd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gd(t,e,n){return n=n!=null?n.concat([t]):null,li(4,4,pd.bind(null,e,t),n)}function Vl(){}function md(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vd(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yd(t,e,n){return Zt&21?(Ge(n,e)||(n=Sc(),G.lanes|=n,en|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function bp(t,e){var n=D;D=n!==0&&4>n?n:4,t(!0);var r=Vi.transition;Vi.transition={};try{t(!1),e()}finally{D=n,Vi.transition=r}}function wd(){return Me().memoizedState}function Cp(t,e,n){var r=Tt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_d(t))xd(e,n);else if(n=td(t,e,n,r),n!==null){var s=ye();Ke(n,t,r,s),kd(n,e,r)}}function Np(t,e,n){var r=Tt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_d(t))xd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Ll(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=td(t,e,s,r),n!==null&&(s=ye(),Ke(n,t,r,s),kd(n,e,r))}}function _d(t){var e=t.alternate;return t===G||e!==null&&e===G}function xd(t,e){cr=Hs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kl(t,n)}}var Vs={readContext:De,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Tp={readContext:De,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:Xa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ks(4194308,4,pd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return ks(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Cp.bind(null,G,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:Ya,useDebugValue:Vl,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=Ya(!1),e=t[0];return t=bp.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=G,s=Je();if(q){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),ae===null)throw Error(k(349));Zt&30||od(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Xa(ad.bind(null,r,i,t),[t]),r.flags|=2048,Ar(9,ld.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Je(),e=ae.identifierPrefix;if(q){var n=ot,r=it;n=(r&~(1<<32-qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ep++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pp={readContext:De,useCallback:md,useContext:De,useEffect:Hl,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:vd,useReducer:qi,useRef:dd,useState:function(){return qi(Or)},useDebugValue:Vl,useDeferredValue:function(t){var e=Me();return yd(e,se.memoizedState,t)},useTransition:function(){var t=qi(Or)[0],e=Me().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:id,useId:wd,unstable_isNewReconciler:!1},Op={readContext:De,useCallback:md,useContext:De,useEffect:Hl,useImperativeHandle:gd,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:vd,useReducer:Ki,useRef:dd,useState:function(){return Ki(Or)},useDebugValue:Vl,useDeferredValue:function(t){var e=Me();return se===null?e.memoizedState=t:yd(e,se.memoizedState,t)},useTransition:function(){var t=Ki(Or)[0],e=Me().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:id,useId:wd,unstable_isNewReconciler:!1};function Be(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ai={isMounted:function(t){return(t=t._reactInternals)?rn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Tt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ke(e,t,s,r),_s(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Tt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ct(t,i,s),e!==null&&(Ke(e,t,s,r),_s(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Tt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ct(t,s,r),e!==null&&(Ke(e,t,r,n),_s(e,t,r))}};function Za(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jr(n,r)||!jr(s,i):!0}function Sd(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=De(i):(s=Ee(e)?Yt:ge.current,r=e.contextTypes,i=(r=r!=null)?Rn(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ai,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ai.enqueueReplaceState(e,e.state,null)}function Do(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ul(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=De(i):(i=Ee(e)?Yt:ge.current,s.context=Rn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ai.enqueueReplaceState(s,s.state,null),Bs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Un(t,e){try{var n="",r=e;do n+=sf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ap=typeof WeakMap=="function"?WeakMap:Map;function jd(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ks||(Ks=!0,Qo=r),Mo(t,e)},n}function Ed(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mo(t,e),typeof r!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ap;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=qp.bind(null,t,e,n),e.then(t,t))}function nu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ru(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Ct(n,e,1))),n.lanes|=1),t)}var Rp=ht.ReactCurrentOwner,Se=!1;function ve(t,e,n,r){e.child=t===null?ed(e,null,n,r):In(e,t.child,n,r)}function su(t,e,n,r,s){n=n.render;var i=e.ref;return Pn(e,s),r=Bl(t,e,n,r,i,s),n=Wl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(q&&n&&Pl(e),e.flags|=1,ve(t,e,r,s),e.child)}function iu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bd(t,e,i,r,s)):(t=bs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jr,n(o,r)&&t.ref===e.ref)return dt(t,e,s)}return e.flags|=1,t=Pt(i,r),t.ref=e.ref,t.return=e,e.child=t}function bd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jr(i,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,dt(t,e,s)}return zo(t,e,n,r,s)}function Cd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(En,Ce),Ce|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(En,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,F(En,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,F(En,Ce),Ce|=r;return ve(t,e,s,n),e.child}function Nd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zo(t,e,n,r,s){var i=Ee(n)?Yt:ge.current;return i=Rn(e,i),Pn(e,s),n=Bl(t,e,n,r,i,s),r=Wl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(q&&r&&Pl(e),e.flags|=1,ve(t,e,n,s),e.child)}function ou(t,e,n,r,s){if(Ee(n)){var i=!0;Us(e)}else i=!1;if(Pn(e,s),e.stateNode===null)Ss(t,e),Sd(e,n,r),Do(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=De(u):(u=Ee(n)?Yt:ge.current,u=Rn(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&eu(e,o,r,u),vt=!1;var g=e.memoizedState;o.state=g,Bs(e,r,o,s),a=e.memoizedState,l!==r||g!==a||je.current||vt?(typeof d=="function"&&(Uo(e,n,d,r),a=e.memoizedState),(l=vt||Za(e,n,l,r,g,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Be(e.type,l),o.props=u,f=e.pendingProps,g=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=De(a):(a=Ee(n)?Yt:ge.current,a=Rn(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==a)&&eu(e,o,r,a),vt=!1,g=e.memoizedState,o.state=g,Bs(e,r,o,s);var y=e.memoizedState;l!==f||g!==y||je.current||vt?(typeof v=="function"&&(Uo(e,n,v,r),y=e.memoizedState),(u=vt||Za(e,n,u,r,g,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Fo(t,e,n,r,i,s)}function Fo(t,e,n,r,s,i){Nd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Va(e,n,!1),dt(t,e,i);r=e.stateNode,Rp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=In(e,t.child,null,i),e.child=In(e,null,l,i)):ve(t,e,l,i),e.memoizedState=r.state,s&&Va(e,n,!0),e.child}function Td(t){var e=t.stateNode;e.pendingContext?Ha(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ha(t,e.context,!1),Dl(t,e.containerInfo)}function lu(t,e,n,r,s){return $n(),Al(s),e.flags|=256,ve(t,e,n,r),e.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Wo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pd(t,e,n){var r=e.pendingProps,s=K.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(K,s&1),t===null)return Io(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=di(o,r,0,null),t=Jt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wo(n),e.memoizedState=Bo,t):ql(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $p(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Pt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pt(l,i):(i=Jt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bo,r}return i=t.child,t=i.sibling,r=Pt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ql(t,e){return e=di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ls(t,e,n,r){return r!==null&&Al(r),In(e,t.child,null,n),t=ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $p(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gi(Error(k(422))),ls(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=di({mode:"visible",children:r.children},s,0,null),i=Jt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&In(e,t.child,null,o),e.child.memoizedState=Wo(o),e.memoizedState=Bo,i);if(!(e.mode&1))return ls(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=Gi(i,r,void 0),ls(t,e,o,r)}if(l=(o&t.childLanes)!==0,Se||l){if(r=ae,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ct(t,s),Ke(r,t,s,-1))}return Xl(),r=Gi(Error(k(421))),ls(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ne=bt(s.nextSibling),Te=e,q=!0,Ve=null,t!==null&&(Re[$e++]=it,Re[$e++]=ot,Re[$e++]=Xt,it=t.id,ot=t.overflow,Xt=e),e=ql(e,r.children),e.flags|=4096,e)}function au(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lo(t.return,e,n)}function Qi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Od(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ve(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&au(t,n,e);else if(t.tag===19)au(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(F(K,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ws(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ws(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qi(e,!0,n,null,i);break;case"together":Qi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ss(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),en|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Pt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ip(t,e,n){switch(e.tag){case 3:Td(e),$n();break;case 5:rd(e);break;case 1:Ee(e.type)&&Us(e);break;case 4:Dl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;F(zs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(F(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Pd(t,e,n):(F(K,K.current&1),t=dt(t,e,n),t!==null?t.sibling:null);F(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Od(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Cd(t,e,n)}return dt(t,e,n)}var Ad,Ho,Rd,$d;Ad=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};Rd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gt(et.current);var i=null;switch(n){case"input":s=ho(t,s),r=ho(t,r),i=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":s=go(t,s),r=go(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Is)}vo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&B("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};$d=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Lp(t,e,n){var r=e.pendingProps;switch(Ol(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Ee(e.type)&&Ls(),fe(e),null;case 3:return r=e.stateNode,Ln(),W(je),W(ge),zl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(is(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ve!==null&&(Xo(Ve),Ve=null))),Ho(t,e),fe(e),null;case 5:Ml(e);var s=Gt(Tr.current);if(n=e.type,t!==null&&e.stateNode!=null)Rd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return fe(e),null}if(t=Gt(et.current),is(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xe]=e,r[Cr]=i,t=(e.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(s=0;s<rr.length;s++)B(rr[s],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":va(r,i),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},B("invalid",r);break;case"textarea":wa(r,i),B("invalid",r)}vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ss(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ss(r.textContent,l,t),s=["children",""+l]):vr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",r)}switch(n){case"input":Jr(r),ya(r,i,!0);break;case"textarea":Jr(r),_a(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Is)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ac(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xe]=e,t[Cr]=r,Ad(t,e,!1,!1),e.stateNode=t;e:{switch(o=yo(n,r),n){case"dialog":B("cancel",t),B("close",t),s=r;break;case"iframe":case"object":case"embed":B("load",t),s=r;break;case"video":case"audio":for(s=0;s<rr.length;s++)B(rr[s],t);s=r;break;case"source":B("error",t),s=r;break;case"img":case"image":case"link":B("error",t),B("load",t),s=r;break;case"details":B("toggle",t),s=r;break;case"input":va(t,r),s=ho(t,r),B("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),B("invalid",t);break;case"textarea":wa(t,r),s=go(t,r),B("invalid",t);break;default:s=r}vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?dc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&uc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&yr(t,a):typeof a=="number"&&yr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&B("scroll",t):a!=null&&ml(t,i,a,o))}switch(n){case"input":Jr(t),ya(t,r,!1);break;case"textarea":Jr(t),_a(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ot(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bn(t,!!r.multiple,i,!1):r.defaultValue!=null&&bn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)$d(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Gt(Tr.current),Gt(et.current),is(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xe]=e,(i=r.nodeValue!==n)&&(t=Te,t!==null))switch(t.tag){case 3:ss(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ss(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xe]=e,e.stateNode=r}return fe(e),null;case 13:if(W(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ne!==null&&e.mode&1&&!(e.flags&128))Xc(),$n(),e.flags|=98560,i=!1;else if(i=is(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Xe]=e}else $n(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Ve!==null&&(Xo(Ve),Ve=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ie===0&&(ie=3):Xl())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Ln(),Ho(t,e),t===null&&Er(e.stateNode.containerInfo),fe(e),null;case 10:return Il(e.type._context),fe(e),null;case 17:return Ee(e.type)&&Ls(),fe(e),null;case 19:if(W(K),i=e.memoizedState,i===null)return fe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Yn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ws(t),o!==null){for(e.flags|=128,Yn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return F(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&Z()>Dn&&(e.flags|=128,r=!0,Yn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ws(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return fe(e),null}else 2*Z()-i.renderingStartTime>Dn&&n!==1073741824&&(e.flags|=128,r=!0,Yn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Z(),e.sibling=null,n=K.current,F(K,r?n&1|2:n&1),e):(fe(e),null);case 22:case 23:return Yl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ce&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Up(t,e){switch(Ol(e),e.tag){case 1:return Ee(e.type)&&Ls(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ln(),W(je),W(ge),zl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ml(e),null;case 13:if(W(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));$n()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(K),null;case 4:return Ln(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var as=!1,pe=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,C=null;function jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(t,e,r)}else n.current=null}function Vo(t,e,n){try{n()}catch(r){Y(t,e,r)}}var uu=!1;function Mp(t,e){if(No=As,t=Mc(),Tl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=t,g=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(a=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(To={focusedElem:t,selectionRange:n},As=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,j=y.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:Be(e.type,_),j);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){Y(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=uu,uu=!1,y}function dr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vo(e,n,i)}s=s.next}while(s!==r)}}function ui(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Id(t){var e=t.alternate;e!==null&&(t.alternate=null,Id(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xe],delete e[Cr],delete e[Ao],delete e[xp],delete e[kp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ld(t){return t.tag===5||t.tag===3||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ld(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ko(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Is));else if(r!==4&&(t=t.child,t!==null))for(Ko(t,e,n),t=t.sibling;t!==null;)Ko(t,e,n),t=t.sibling}function Go(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Go(t,e,n),t=t.sibling;t!==null;)Go(t,e,n),t=t.sibling}var ue=null,We=!1;function ft(t,e,n){for(n=n.child;n!==null;)Ud(t,e,n),n=n.sibling}function Ud(t,e,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ti,n)}catch{}switch(n.tag){case 5:pe||jn(n,e);case 6:var r=ue,s=We;ue=null,ft(t,e,n),ue=r,We=s,ue!==null&&(We?(t=ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(We?(t=ue,n=n.stateNode,t.nodeType===8?Bi(t.parentNode,n):t.nodeType===1&&Bi(t,n),kr(t)):Bi(ue,n.stateNode));break;case 4:r=ue,s=We,ue=n.stateNode.containerInfo,We=!0,ft(t,e,n),ue=r,We=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vo(n,e,o),s=s.next}while(s!==r)}ft(t,e,n);break;case 1:if(!pe&&(jn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,e,l)}ft(t,e,n);break;case 21:ft(t,e,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,ft(t,e,n),pe=r):ft(t,e,n);break;default:ft(t,e,n)}}function du(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Dp),e.forEach(function(r){var s=Gp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,We=!1;break e;case 3:ue=l.stateNode.containerInfo,We=!0;break e;case 4:ue=l.stateNode.containerInfo,We=!0;break e}l=l.return}if(ue===null)throw Error(k(160));Ud(i,o,s),ue=null,We=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Y(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dd(e,t),e=e.sibling}function Dd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),Qe(t),r&4){try{dr(3,t,t.return),ui(3,t)}catch(_){Y(t,t.return,_)}try{dr(5,t,t.return)}catch(_){Y(t,t.return,_)}}break;case 1:ze(e,t),Qe(t),r&512&&n!==null&&jn(n,n.return);break;case 5:if(ze(e,t),Qe(t),r&512&&n!==null&&jn(n,n.return),t.flags&32){var s=t.stateNode;try{yr(s,"")}catch(_){Y(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oc(s,i),yo(l,o);var u=yo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?dc(s,f):d==="dangerouslySetInnerHTML"?uc(s,f):d==="children"?yr(s,f):ml(s,d,f,u)}switch(l){case"input":fo(s,i);break;case"textarea":lc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?bn(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?bn(s,!!i.multiple,i.defaultValue,!0):bn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cr]=i}catch(_){Y(t,t.return,_)}}break;case 6:if(ze(e,t),Qe(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Y(t,t.return,_)}}break;case 3:if(ze(e,t),Qe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(e.containerInfo)}catch(_){Y(t,t.return,_)}break;case 4:ze(e,t),Qe(t);break;case 13:ze(e,t),Qe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=Z())),r&4&&du(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(pe=(u=pe)||d,ze(e,t),pe=u):ze(e,t),Qe(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(f=C=d;C!==null;){switch(g=C,v=g.child,g.tag){case 0:case 11:case 14:case 15:dr(4,g,g.return);break;case 1:jn(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Y(r,n,_)}}break;case 5:jn(g,g.return);break;case 22:if(g.memoizedState!==null){fu(f);continue}}v!==null?(v.return=g,C=v):fu(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=cc("display",o))}catch(_){Y(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Y(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ze(e,t),Qe(t),r&4&&du(t);break;case 21:break;default:ze(e,t),Qe(t)}}function Qe(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ld(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yr(s,""),r.flags&=-33);var i=cu(t);Go(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=cu(t);Ko(t,l,o);break;default:throw Error(k(161))}}catch(a){Y(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zp(t,e,n){C=t,Md(t)}function Md(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||as;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||pe;l=as;var u=pe;if(as=o,(pe=a)&&!u)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?pu(s):a!==null?(a.return=o,C=a):pu(s);for(;i!==null;)C=i,Md(i),i=i.sibling;C=s,as=l,pe=u}hu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):hu(t)}}function hu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||ui(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Be(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ja(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ja(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}pe||e.flags&512&&qo(e)}catch(g){Y(e,e.return,g)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function fu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function pu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ui(4,e)}catch(a){Y(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Y(e,s,a)}}var i=e.return;try{qo(e)}catch(a){Y(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){Y(e,o,a)}}}catch(a){Y(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Fp=Math.ceil,qs=ht.ReactCurrentDispatcher,Kl=ht.ReactCurrentOwner,Le=ht.ReactCurrentBatchConfig,U=0,ae=null,te=null,ce=0,Ce=0,En=$t(0),ie=0,Rr=null,en=0,ci=0,Gl=0,hr=null,xe=null,Ql=0,Dn=1/0,nt=null,Ks=!1,Qo=null,Nt=null,us=!1,kt=null,Gs=0,fr=0,Jo=null,js=-1,Es=0;function ye(){return U&6?Z():js!==-1?js:js=Z()}function Tt(t){return t.mode&1?U&2&&ce!==0?ce&-ce:jp.transition!==null?(Es===0&&(Es=Sc()),Es):(t=D,t!==0||(t=window.event,t=t===void 0?16:Pc(t.type)),t):1}function Ke(t,e,n,r){if(50<fr)throw fr=0,Jo=null,Error(k(185));Ur(t,n,r),(!(U&2)||t!==ae)&&(t===ae&&(!(U&2)&&(ci|=n),ie===4&&wt(t,ce)),be(t,r),n===1&&U===0&&!(e.mode&1)&&(Dn=Z()+500,oi&&It()))}function be(t,e){var n=t.callbackNode;jf(t,e);var r=Os(t,t===ae?ce:0);if(r===0)n!==null&&Sa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sa(n),e===1)t.tag===0?Sp(gu.bind(null,t)):Qc(gu.bind(null,t)),wp(function(){!(U&6)&&It()}),n=null;else{switch(jc(r)){case 1:n=xl;break;case 4:n=xc;break;case 16:n=Ps;break;case 536870912:n=kc;break;default:n=Ps}n=Kd(n,zd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zd(t,e){if(js=-1,Es=0,U&6)throw Error(k(327));var n=t.callbackNode;if(On()&&t.callbackNode!==n)return null;var r=Os(t,t===ae?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qs(t,r);else{e=r;var s=U;U|=2;var i=Bd();(ae!==t||ce!==e)&&(nt=null,Dn=Z()+500,Qt(t,e));do try{Hp();break}catch(l){Fd(t,l)}while(!0);$l(),qs.current=i,U=s,te!==null?e=0:(ae=null,ce=0,e=ie)}if(e!==0){if(e===2&&(s=So(t),s!==0&&(r=s,e=Yo(t,s))),e===1)throw n=Rr,Qt(t,0),wt(t,r),be(t,Z()),n;if(e===6)wt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Bp(s)&&(e=Qs(t,r),e===2&&(i=So(t),i!==0&&(r=i,e=Yo(t,i))),e===1))throw n=Rr,Qt(t,0),wt(t,r),be(t,Z()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Wt(t,xe,nt);break;case 3:if(wt(t,r),(r&130023424)===r&&(e=Ql+500-Z(),10<e)){if(Os(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oo(Wt.bind(null,t,xe,nt),e);break}Wt(t,xe,nt);break;case 4:if(wt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fp(r/1960))-r,10<r){t.timeoutHandle=Oo(Wt.bind(null,t,xe,nt),r);break}Wt(t,xe,nt);break;case 5:Wt(t,xe,nt);break;default:throw Error(k(329))}}}return be(t,Z()),t.callbackNode===n?zd.bind(null,t):null}function Yo(t,e){var n=hr;return t.current.memoizedState.isDehydrated&&(Qt(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=xe,xe=n,e!==null&&Xo(e)),t}function Xo(t){xe===null?xe=t:xe.push.apply(xe,t)}function Bp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wt(t,e){for(e&=~Gl,e&=~ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qe(e),r=1<<n;t[n]=-1,e&=~r}}function gu(t){if(U&6)throw Error(k(327));On();var e=Os(t,0);if(!(e&1))return be(t,Z()),null;var n=Qs(t,e);if(t.tag!==0&&n===2){var r=So(t);r!==0&&(e=r,n=Yo(t,r))}if(n===1)throw n=Rr,Qt(t,0),wt(t,e),be(t,Z()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wt(t,xe,nt),be(t,Z()),null}function Jl(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Dn=Z()+500,oi&&It())}}function tn(t){kt!==null&&kt.tag===0&&!(U&6)&&On();var e=U;U|=1;var n=Le.transition,r=D;try{if(Le.transition=null,D=1,t)return t()}finally{D=r,Le.transition=n,U=e,!(U&6)&&It()}}function Yl(){Ce=En.current,W(En)}function Qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yp(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Ol(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ls();break;case 3:Ln(),W(je),W(ge),zl();break;case 5:Ml(r);break;case 4:Ln();break;case 13:W(K);break;case 19:W(K);break;case 10:Il(r.type._context);break;case 22:case 23:Yl()}n=n.return}if(ae=t,te=t=Pt(t.current,null),ce=Ce=e,ie=0,Rr=null,Gl=ci=en=0,xe=hr=null,Kt!==null){for(e=0;e<Kt.length;e++)if(n=Kt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Kt=null}return t}function Fd(t,e){do{var n=te;try{if($l(),xs.current=Vs,Hs){for(var r=G.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hs=!1}if(Zt=0,le=se=G=null,cr=!1,Pr=0,Kl.current=null,n===null||n.return===null){ie=1,Rr=e,te=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=nu(o);if(v!==null){v.flags&=-257,ru(v,o,l,i,e),v.mode&1&&tu(i,u,e),e=v,a=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(a),e.updateQueue=_}else y.add(a);break e}else{if(!(e&1)){tu(i,u,e),Xl();break e}a=Error(k(426))}}else if(q&&l.mode&1){var j=nu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ru(j,o,l,i,e),Al(Un(a,l));break e}}i=a=Un(a,l),ie!==4&&(ie=2),hr===null?hr=[i]:hr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=jd(i,a,e);Qa(i,m);break e;case 1:l=a;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Nt===null||!Nt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ed(i,l,e);Qa(i,w);break e}}i=i.return}while(i!==null)}Hd(n)}catch(E){e=E,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Bd(){var t=qs.current;return qs.current=Vs,t===null?Vs:t}function Xl(){(ie===0||ie===3||ie===2)&&(ie=4),ae===null||!(en&268435455)&&!(ci&268435455)||wt(ae,ce)}function Qs(t,e){var n=U;U|=2;var r=Bd();(ae!==t||ce!==e)&&(nt=null,Qt(t,e));do try{Wp();break}catch(s){Fd(t,s)}while(!0);if($l(),U=n,qs.current=r,te!==null)throw Error(k(261));return ae=null,ce=0,ie}function Wp(){for(;te!==null;)Wd(te)}function Hp(){for(;te!==null&&!gf();)Wd(te)}function Wd(t){var e=qd(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?Hd(t):te=e,Kl.current=null}function Hd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Up(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,te=null;return}}else if(n=Lp(n,e,Ce),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);ie===0&&(ie=5)}function Wt(t,e,n){var r=D,s=Le.transition;try{Le.transition=null,D=1,Vp(t,e,n,r)}finally{Le.transition=s,D=r}return null}function Vp(t,e,n,r){do On();while(kt!==null);if(U&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ef(t,i),t===ae&&(te=ae=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||us||(us=!0,Kd(Ps,function(){return On(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=D;D=1;var l=U;U|=4,Kl.current=null,Mp(t,n),Dd(n,t),dp(To),As=!!No,To=No=null,t.current=n,zp(n),mf(),U=l,D=o,Le.transition=i}else t.current=n;if(us&&(us=!1,kt=t,Gs=s),i=t.pendingLanes,i===0&&(Nt=null),wf(n.stateNode),be(t,Z()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ks)throw Ks=!1,t=Qo,Qo=null,t;return Gs&1&&t.tag!==0&&On(),i=t.pendingLanes,i&1?t===Jo?fr++:(fr=0,Jo=t):fr=0,It(),null}function On(){if(kt!==null){var t=jc(Gs),e=Le.transition,n=D;try{if(Le.transition=null,D=16>t?16:t,kt===null)var r=!1;else{if(t=kt,kt=null,Gs=0,U&6)throw Error(k(331));var s=U;for(U|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:dr(8,d,i)}var f=d.child;if(f!==null)f.return=d,C=f;else for(;C!==null;){d=C;var g=d.sibling,v=d.return;if(Id(d),d===u){C=null;break}if(g!==null){g.return=v,C=g;break}C=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,C=m;break e}C=i.return}}var h=t.current;for(C=h;C!==null;){o=C;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,C=p;else e:for(o=h;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ui(9,l)}}catch(E){Y(l,l.return,E)}if(l===o){C=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,C=w;break e}C=l.return}}if(U=s,It(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ti,t)}catch{}r=!0}return r}finally{D=n,Le.transition=e}}return!1}function mu(t,e,n){e=Un(n,e),e=jd(t,e,1),t=Ct(t,e,1),e=ye(),t!==null&&(Ur(t,1,e),be(t,e))}function Y(t,e,n){if(t.tag===3)mu(t,t,n);else for(;e!==null;){if(e.tag===3){mu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nt===null||!Nt.has(r))){t=Un(n,t),t=Ed(e,t,1),e=Ct(e,t,1),t=ye(),e!==null&&(Ur(e,1,t),be(e,t));break}}e=e.return}}function qp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,ae===t&&(ce&n)===n&&(ie===4||ie===3&&(ce&130023424)===ce&&500>Z()-Ql?Qt(t,0):Gl|=n),be(t,e)}function Vd(t,e){e===0&&(t.mode&1?(e=Zr,Zr<<=1,!(Zr&130023424)&&(Zr=4194304)):e=1);var n=ye();t=ct(t,e),t!==null&&(Ur(t,e,n),be(t,n))}function Kp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vd(t,n)}function Gp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Vd(t,n)}var qd;qd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,Ip(t,e,n);Se=!!(t.flags&131072)}else Se=!1,q&&e.flags&1048576&&Jc(e,Ms,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ss(t,e),t=e.pendingProps;var s=Rn(e,ge.current);Pn(e,n),s=Bl(null,e,r,t,s,n);var i=Wl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ee(r)?(i=!0,Us(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ul(e),s.updater=ai,e.stateNode=s,s._reactInternals=e,Do(e,r,t,n),e=Fo(null,e,r,!0,i,n)):(e.tag=0,q&&i&&Pl(e),ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ss(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Jp(r),t=Be(r,t),s){case 0:e=zo(null,e,r,t,n);break e;case 1:e=ou(null,e,r,t,n);break e;case 11:e=su(null,e,r,t,n);break e;case 14:e=iu(null,e,r,Be(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),zo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),ou(t,e,r,s,n);case 3:e:{if(Td(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nd(t,e),Bs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Un(Error(k(423)),e),e=lu(t,e,r,n,s);break e}else if(r!==s){s=Un(Error(k(424)),e),e=lu(t,e,r,n,s);break e}else for(Ne=bt(e.stateNode.containerInfo.firstChild),Te=e,q=!0,Ve=null,n=ed(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($n(),r===s){e=dt(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return rd(e),t===null&&Io(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Po(r,s)?o=null:i!==null&&Po(r,i)&&(e.flags|=32),Nd(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&Io(e),null;case 13:return Pd(t,e,n);case 4:return Dl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=In(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),su(t,e,r,s,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(zs,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!je.current){e=dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pn(e,n),s=De(s),r=r(s),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,s=Be(r,e.pendingProps),s=Be(r.type,s),iu(t,e,r,s,n);case 15:return bd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Be(r,s),Ss(t,e),e.tag=1,Ee(r)?(t=!0,Us(e)):t=!1,Pn(e,n),Sd(e,r,s),Do(e,r,s,n),Fo(null,e,r,!0,t,n);case 19:return Od(t,e,n);case 22:return Cd(t,e,n)}throw Error(k(156,e.tag))};function Kd(t,e){return _c(t,e)}function Qp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new Qp(t,e,n,r)}function Zl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jp(t){if(typeof t=="function")return Zl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yl)return 11;if(t===wl)return 14}return 2}function Pt(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gn:return Jt(n.children,s,i,e);case vl:o=8,s|=8;break;case lo:return t=Ie(12,n,e,s|2),t.elementType=lo,t.lanes=i,t;case ao:return t=Ie(13,n,e,s),t.elementType=ao,t.lanes=i,t;case uo:return t=Ie(19,n,e,s),t.elementType=uo,t.lanes=i,t;case rc:return di(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tc:o=10;break e;case nc:o=9;break e;case yl:o=11;break e;case wl:o=14;break e;case mt:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Jt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function di(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=rc,t.lanes=n,t.stateNode={isHidden:!1},t}function Ji(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function Yi(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ea(t,e,n,r,s,i,o,l,a){return t=new Yp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),t}function Xp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gd(t){if(!t)return At;t=t._reactInternals;e:{if(rn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ee(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Ee(n))return Gc(t,n,e)}return e}function Qd(t,e,n,r,s,i,o,l,a){return t=ea(n,r,!0,t,s,i,o,l,a),t.context=Gd(null),n=t.current,r=ye(),s=Tt(n),i=lt(r,s),i.callback=e??null,Ct(n,i,s),t.current.lanes=s,Ur(t,s,r),be(t,r),t}function hi(t,e,n,r){var s=e.current,i=ye(),o=Tt(s);return n=Gd(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ct(s,e,o),t!==null&&(Ke(t,s,o,i),_s(t,s,o)),o}function Js(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ta(t,e){vu(t,e),(t=t.alternate)&&vu(t,e)}function Zp(){return null}var Jd=typeof reportError=="function"?reportError:function(t){console.error(t)};function na(t){this._internalRoot=t}fi.prototype.render=na.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));hi(t,e,null,null)};fi.prototype.unmount=na.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tn(function(){hi(null,t,null,null)}),e[ut]=null}};function fi(t){this._internalRoot=t}fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yt.length&&e!==0&&e<yt[n].priority;n++);yt.splice(n,0,t),n===0&&Tc(t)}};function ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yu(){}function eg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Js(o);i.call(u)}}var o=Qd(e,r,t,0,null,!1,!1,"",yu);return t._reactRootContainer=o,t[ut]=o.current,Er(t.nodeType===8?t.parentNode:t),tn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Js(a);l.call(u)}}var a=ea(t,0,!1,null,null,!1,!1,"",yu);return t._reactRootContainer=a,t[ut]=a.current,Er(t.nodeType===8?t.parentNode:t),tn(function(){hi(e,a,n,r)}),a}function gi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Js(o);l.call(a)}}hi(e,o,t,s)}else o=eg(n,e,t,s,r);return Js(o)}Ec=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nr(e.pendingLanes);n!==0&&(kl(e,n|1),be(e,Z()),!(U&6)&&(Dn=Z()+500,It()))}break;case 13:tn(function(){var r=ct(t,1);if(r!==null){var s=ye();Ke(r,t,1,s)}}),ta(t,1)}};Sl=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=ye();Ke(e,t,134217728,n)}ta(t,134217728)}};bc=function(t){if(t.tag===13){var e=Tt(t),n=ct(t,e);if(n!==null){var r=ye();Ke(n,t,e,r)}ta(t,e)}};Cc=function(){return D};Nc=function(t,e){var n=D;try{return D=t,e()}finally{D=n}};_o=function(t,e,n){switch(e){case"input":if(fo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ii(r);if(!s)throw Error(k(90));ic(r),fo(r,s)}}}break;case"textarea":lc(t,n);break;case"select":e=n.value,e!=null&&bn(t,!!n.multiple,e,!1)}};pc=Jl;gc=tn;var tg={usingClientEntryPoint:!1,Events:[Mr,wn,ii,hc,fc,Jl]},Xn={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ng={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yc(t),t===null?null:t.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||Zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{ti=cs.inject(ng),Ze=cs}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;Oe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ra(e))throw Error(k(200));return Xp(t,e,null,n)};Oe.createRoot=function(t,e){if(!ra(t))throw Error(k(299));var n=!1,r="",s=Jd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ea(t,1,!1,null,null,n,!1,r,s),t[ut]=e.current,Er(t.nodeType===8?t.parentNode:t),new na(e)};Oe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=yc(e),t=t===null?null:t.stateNode,t};Oe.flushSync=function(t){return tn(t)};Oe.hydrate=function(t,e,n){if(!pi(e))throw Error(k(200));return gi(null,t,e,!0,n)};Oe.hydrateRoot=function(t,e,n){if(!ra(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Jd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qd(e,null,t,1,n??null,s,!1,i,o),t[ut]=e.current,Er(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fi(e)};Oe.render=function(t,e,n){if(!pi(e))throw Error(k(200));return gi(null,t,e,!1,n)};Oe.unmountComponentAtNode=function(t){if(!pi(t))throw Error(k(40));return t._reactRootContainer?(tn(function(){gi(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};Oe.unstable_batchedUpdates=Jl;Oe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pi(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return gi(t,e,n,!1,r)};Oe.version="18.3.1-next-f1338f8080-20240426";function Yd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yd)}catch(t){console.error(t)}}Yd(),Yu.exports=Oe;var rg=Yu.exports,Xd,wu=rg;Xd=wu.createRoot,wu.hydrateRoot;const sg="modulepreload",ig=function(t){return"/"+t},_u={},Fr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=ig(a),a in _u)return;_u[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sg,u||(f.as="script"),f.crossOrigin="",f.href=a,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},og=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lg extends sa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xu extends sa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ku extends sa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zo||(Zo={}));var ag=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class ug{constructor(e,{headers:n={},customFetch:r,region:s=Zo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=og(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return ag(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new lg(_)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new xu(f);if(!f.ok)throw new ku(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof ku||s instanceof xu?s.context:void 0}}})}}var ke={},ia={},mi={},Br={},vi={},yi={},cg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=cg();const dg=Mn.fetch,Zd=Mn.fetch.bind(Mn),eh=Mn.Headers,hg=Mn.Request,fg=Mn.Response,Wn=Object.freeze(Object.defineProperty({__proto__:null,Headers:eh,Request:hg,Response:fg,default:Zd,fetch:dg},Symbol.toStringTag,{value:"Module"})),pg=Ph(Wn);var wi={};Object.defineProperty(wi,"__esModule",{value:!0});let gg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wi.default=gg;var th=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});const mg=th(pg),vg=th(wi);let yg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let d=null,f=null,g=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const h=await i.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=h:f=JSON.parse(h))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),m=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&m&&m.length>1&&(g=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(f=[],d=null,v=200,y="OK")}catch{i.status===404&&j===""?(v=204,y="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new vg.default(d)}return{error:d,data:f,count:g,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};yi.default=yg;var wg=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vi,"__esModule",{value:!0});const _g=wg(yi);let xg=class extends _g.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};vi.default=xg;var kg=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});const Sg=kg(vi);let jg=class extends Sg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Br.default=jg;var Eg=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});const Zn=Eg(Br);let bg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Zn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Zn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};mi.default=bg;var nh=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});const Cg=nh(mi),Ng=nh(Br);let Tg=class rh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Cg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{a.searchParams.append(f,g)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Ng.default({method:l,url:a,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ia.default=Tg;var Hn=Ue&&Ue.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const sh=Hn(ia);ke.PostgrestClient=sh.default;const ih=Hn(mi);ke.PostgrestQueryBuilder=ih.default;const oh=Hn(Br);ke.PostgrestFilterBuilder=oh.default;const lh=Hn(vi);ke.PostgrestTransformBuilder=lh.default;const ah=Hn(yi);ke.PostgrestBuilder=ah.default;const uh=Hn(wi);ke.PostgrestError=uh.default;var Pg=ke.default={PostgrestClient:sh.default,PostgrestQueryBuilder:ih.default,PostgrestFilterBuilder:oh.default,PostgrestTransformBuilder:lh.default,PostgrestBuilder:ah.default,PostgrestError:uh.default};const{PostgrestClient:Og,PostgrestQueryBuilder:Z0,PostgrestFilterBuilder:ev,PostgrestTransformBuilder:tv,PostgrestBuilder:nv,PostgrestError:rv}=Pg;class Ag{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Rg="2.15.4",$g=`realtime-js/${Rg}`,Ig="1.0.0",el=1e4,Lg=1e3,Ug=100;var pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pr||(pr={}));var ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ne||(ne={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var tl;(function(t){t.websocket="websocket"})(tl||(tl={}));var Vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vt||(Vt={}));class Dg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ch{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Su=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Mg(o,t,e,s),i),{})},Mg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?dh(i,o):nl(o)},dh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Wg(e,n)}switch(t){case z.bool:return zg(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Fg(e);case z.json:case z.jsonb:return Bg(e);case z.timestamp:return Hg(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return nl(e);default:return nl(e)}},nl=t=>t,zg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Wg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dh(e,l))}return t},Hg=t=>typeof t=="string"?t.replace(" ","T"):t,hh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xi{constructor(e,n,r={},s=el){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ju;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ju||(ju={}));class gr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=gr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const g=d.map(j=>j.presence_ref),v=f.map(j=>j.presence_ref),y=d.filter(j=>v.indexOf(j.presence_ref)<0),_=f.filter(j=>g.indexOf(j.presence_ref)<0);y.length>0&&(l[u]=y),_.length>0&&(a[u]=_)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const f=e[l].map(v=>v.presence_ref),g=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...g)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Eu||(Eu={}));var mr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(mr||(mr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class oa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xi(this,He.join,this.params,this.timeout),this.rejoinTimer=new ch(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new gr(this),this.broadcastEndpointURL=hh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[mr.PRESENCE]&&this.bindings[mr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(rt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(rt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,m=[];for(let h=0;h<j;h++){const p=_[h],{filter:{event:w,schema:E,table:S,filter:b}}=p,x=v&&v[h];if(x&&x.event===w&&x.schema===E&&x.table===S&&x.filter===b)m.push(Object.assign(Object.assign({},p),{id:x.id}));else{this.unsubscribe(),this.state=ne.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(rt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ne.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ne.joined&&e===mr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xi(this,He.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xi(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ug){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=He;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,j;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,j,m,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,E=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const w=(h=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:_,table:j,commit_timestamp:m,type:h,errors:p}=y;g=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:m,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(g,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Su(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Su(e.columns,e.old_record)),n}}const Zi=()=>{},ds={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vg=[1e3,2e3,5e3,1e4],qg=1e4,Kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=el,this.transport=null,this.heartbeatIntervalMs=ds.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zi,this.ref=0,this.reconnectTimer=null,this.logger=Zi,this.conn=null,this.sendBuffer=[],this.serializer=new Dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Fr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${tl.websocket}`,this.httpEndpoint=hh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ag.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ig}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return Vt.Connecting;case pr.open:return Vt.Open;case pr.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new oa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ds.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Kg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:$g};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(He.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ch(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ds.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:el,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ds.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Zi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:f=>Vg[f-1]||qg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,g)=>g(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class la extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qg extends la{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends la{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Jg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Yg=()=>Jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fr(()=>Promise.resolve().then(()=>Wn),void 0)).Response:Response}),sl=t=>{if(Array.isArray(t))return t.map(n=>sl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sl(r)}),e},Xg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var sn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zg=(t,e,n)=>sn(void 0,void 0,void 0,function*(){const r=yield Yg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Qg(eo(s),i,o))}).catch(s=>{e(new rl(eo(s),s))}):e(new rl(eo(t),t))}),em=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Xg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Wr(t,e,n,r,s,i){return sn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,em(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Zg(a,l,r))})})}function Ys(t,e,n,r){return sn(this,void 0,void 0,function*(){return Wr(t,"GET",e,n,r)})}function Ye(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Wr(t,"POST",e,r,s,n)})}function il(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Wr(t,"PUT",e,r,s,n)})}function tm(t,e,n,r){return sn(this,void 0,void 0,function*(){return Wr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ph(t,e,n,r,s){return sn(this,void 0,void 0,function*(){return Wr(t,"DELETE",e,r,s,n)})}var me=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const nm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rm{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=fh(s)}uploadOrUpdate(e,n,r,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?il:Ye)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:bu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield il(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new la("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return me(this,void 0,void 0,function*(){try{const s=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(e,n){return me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ys(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}})}info(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ys(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sl(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield tm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof rl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},nm),n),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}listV2(e,n){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const sm="2.11.1",im={"X-Client-Info":`storage-js/${sm}`};var ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class om{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},im),n),this.fetch=fh(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ln(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ln(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class lm extends om{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new rm(this.url,this.headers,e,this.fetch)}}const am="2.57.0";let sr="";typeof Deno<"u"?sr="deno":typeof document<"u"?sr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sr="react-native":sr="node";const um={"X-Client-Info":`supabase-js-${sr}/${am}`},cm={headers:um},dm={schema:"public"},hm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fm={};var pm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zd:e=fetch,(...n)=>e(...n)},mm=()=>typeof Headers>"u"?eh:Headers,vm=(t,e,n)=>{const r=gm(n),s=mm();return(i,o)=>pm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ym=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function wm(t){return t.endsWith("/")?t:t+"/"}function _m(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:f}=e,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ym(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const gh="2.71.1",hn=30*1e3,ol=3,to=ol*hn,xm="http://localhost:9999",km="supabase.auth.token",Sm={"X-Client-Info":`gotrue-js/${gh}`},ll="X-Supabase-Api-Version",mh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Em=10*60*1e3;class aa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bm extends aa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Cm(t){return A(t)&&t.name==="AuthApiError"}class vh extends aa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Lt extends aa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class gt extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nm(t){return A(t)&&t.name==="AuthSessionMissingError"}class hs extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fs extends Lt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ps extends Lt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tm(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cu extends Lt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends Lt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function no(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Nu extends Lt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ul extends Lt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tu=` 	
\r=`.split(""),Pm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Tu.length;e+=1)t[Tu[e].charCodeAt(0)]=-2;for(let e=0;e<Xs.length;e+=1)t[Xs[e].charCodeAt(0)]=e;return t})();function Pu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xs[r]),e.queuedBits-=6}}function yh(t,e,n){const r=Pm[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ou(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Rm(o,r,n)};for(let o=0;o<t.length;o+=1)yh(t.charCodeAt(o),s,i);return e.join("")}function Om(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Am(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Om(r,e)}}function Rm(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $m(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)yh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Im(t){const e=[];return Am(t,n=>e.push(n)),new Uint8Array(e)}function Lm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Pu(s,n,r)),Pu(null,n,r),e.join("")}function Um(t){return Math.round(Date.now()/1e3)+t}function Dm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},wh=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Mm(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const _h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ft=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(t,e)=>{await t.removeItem(e)};class _i{constructor(){this.promise=new _i.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_i.promiseConstructor=Promise;function ro(t){const e=t.split(".");if(e.length!==3)throw new ul("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jm.test(e[r]))throw new ul("JWT not in base64url format");return{header:JSON.parse(Ou(e[0])),payload:JSON.parse(Ou(e[1])),signature:$m(e[2]),raw:{header:e[0],payload:e[1]}}}async function Fm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bm(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Wm(t){return("0"+t.toString(16)).substr(-2)}function Hm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Wm).join("")}async function Vm(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Vm(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(t,e,n=!1){const r=Hm();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await fn(t,`${e}-code-verifier`,s);const i=await qm(r);return[i,r===i?"plain":"s256"]}const Km=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gm(t){const e=t.headers.get(ll);if(!e||!e.match(Km))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Jm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ym=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(t){if(!Ym.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function so(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Au(t){return JSON.parse(JSON.stringify(t))}var Xm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zm=[502,503,504];async function Ru(t){var e;if(!zm(t))throw new al(Ht(t),0);if(Zm.includes(t.status))throw new al(Ht(t),t.status);let n;try{n=await t.json()}catch(i){throw new vh(Ht(i),i)}let r;const s=Gm(t);if(s&&s.getTime()>=mh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Nu(Ht(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Nu(Ht(n),t.status,n.weak_password.reasons);throw new bm(Ht(n),t.status||500,r)}const e0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ll]||(i[ll]=mh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await t0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function t0(t,e,n,r,s,i){const o=e0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new al(Ht(a),0)}if(l.ok||await Ru(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Ru(a)}}function tt(t){var e;let n=null;i0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Um(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function $u(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function n0(t){return{data:t,error:null}}function r0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Xm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function s0(t){return t}function i0(t){return t.access_token&&t.refresh_token&&t.expires_in}const io=["global","local","others"];var o0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class l0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_h(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=io[0]){if(io.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${io.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=o0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:r0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_t})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:s0});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(y.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){un(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_t})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){un(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){un(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_t})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){un(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){un(e.userId),un(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}function Iu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function a0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cn={debug:!!(globalThis&&wh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u0 extends xh{}async function c0(t,e,n){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}a0();const d0={url:xm,storageKey:km,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lu(t,e,n){return await n()}const dn={};class $r{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$r.nextInstanceID,$r.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},d0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new l0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_h(s.fetch),this.lock=s.lock||Lu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c0:this.lock=Lu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=dn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=dn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Mm(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tm(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new vh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:g}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await an(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:y},xform:tt})}else if("phone"in e){const{phone:d,password:f,options:g}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:tt})}else throw new fs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$u})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$u})}else throw new fs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,d,f,g,v;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:j,wallet:m,statement:h,options:p}=e;let w;if(Fe())if(typeof m=="object")w=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),h?{statement:h}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:j,error:m}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Lm(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:tt});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new hs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(A(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ft(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tt});if(await pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new hs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await an(this.storage,this.storageKey));const{error:f}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new fs("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await an(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:n0})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new fs("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ft(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=so()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_t}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:_t})})}catch(n){if(A(n))return Nm(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await an(this.storage,this.storageKey));const{data:u,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:_t});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ro(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fe())throw new ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ps("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cu("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ps("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;a&&(g=parseInt(a));const v=g-d;v*1e3<=hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=g-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ft(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Cm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Dm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await an(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:f,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Bm(async s=>(s>0&&await Fm(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&no(i)&&Date.now()+o-r<hn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ft(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ft(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await fn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:so()}else if(s&&!s.user&&!s.user){const o=await Ft(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pt(this.storage,this.storageKey+"-user"),await fn(this.storage,this.storageKey,s)):s.user=so()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<to;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${to}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),no(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _i;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return no(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Au(s);await fn(this.storage,this.storageKey,i)}else{const s=Au(n);await fn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hn}ms, refresh threshold is ${ol} ticks`),s<=ol&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await an(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ro(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Em>s)return r;const{data:i,error:o}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=ro(r);n!=null&&n.allowExpired||Qm(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Jm(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Im(`${l}.${a}`)))throw new ul("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}$r.nextInstanceID=0;const h0=$r;class f0 extends h0{constructor(e){super(e)}}var p0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function a(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class g0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=wm(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:dm,realtime:fm,auth:Object.assign(Object.assign({},hm),{storageKey:u}),global:cm},f=_m(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=vm(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Og(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new lm(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ug(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return p0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f0({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m0=(t,e,n)=>new g0(t,e,n);function v0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}v0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y0="https://placeholder.supabase.co",w0="placeholder-key",ee=m0(y0,w0),kh=T.createContext(void 0);function _0({children:t}){const[e,n]=T.useState(null),[r,s]=T.useState(!0);T.useEffect(()=>{ee.auth.getSession().then(({data:{session:d}})=>{n((d==null?void 0:d.user)??null),s(!1)});const{data:{subscription:u}}=ee.auth.onAuthStateChange((d,f)=>{n((f==null?void 0:f.user)??null)});return()=>u.unsubscribe()},[]);const a={user:e,loading:r,signIn:async(u,d)=>{const{error:f}=await ee.auth.signInWithPassword({email:u,password:d});return{error:f}},signUp:async(u,d)=>{const{error:f}=await ee.auth.signUp({email:u,password:d});return{error:f}},signOut:async()=>{await ee.auth.signOut()}};return c.jsx(kh.Provider,{value:a,children:t})}function Hr(){const t=T.useContext(kh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=T.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>T.createElement("svg",{ref:d,...x0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${k0(t)}`,l].join(" "),...u},[...e.map(([f,g])=>T.createElement(f,g)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=J("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=J("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=J("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=J("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=J("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=J("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=J("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=J("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=J("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function R0(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),[o,l]=T.useState(!1),[a,u]=T.useState(!1),[d,f]=T.useState(""),{signIn:g,signUp:v}=Hr(),y=async _=>{_.preventDefault(),u(!0),f("");try{const{error:j}=o?await v(t,n):await g(t,n);j&&f(j.message)}catch{f("Ha ocurrido un error. Intenta de nuevo.")}finally{u(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-green-800 to-emerald-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:c.jsx(C0,{className:"w-8 h-8 text-green-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o?"Crear Cuenta":"BarManager"}),c.jsx("p",{className:"text-gray-600",children:o?"Crea tu cuenta para empezar":"Inicia sesin para gestionar tu bar"})]}),d&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-red-600 text-sm",children:d})}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),c.jsx("input",{id:"email",type:"email",value:t,onChange:_=>e(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"tu@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",type:s?"text":"password",value:n,onChange:_=>r(_.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors pr-12",placeholder:"",required:!0,minLength:6}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:s?c.jsx(j0,{className:"w-5 h-5"}):c.jsx(E0,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Cargando...":o?"Crear Cuenta":"Iniciar Sesin"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-green-600 hover:text-green-700 font-medium transition-colors",children:o?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Crala aqu"})})]})})}function ca(){const[t,e]=T.useState(null),[n,r]=T.useState(!0),{user:s}=Hr();T.useEffect(()=>{s?i():(e(null),r(!1))},[s]);const i=async()=>{try{const{data:l,error:a}=await ee.from("profiles").select("*").eq("id",s==null?void 0:s.id).single();if(a)throw a;e(l)}catch(l){console.error("Error loading profile:",l)}finally{r(!1)}},o=(t==null?void 0:t.role)==="admin";return{profile:t,loading:n,isAdmin:o,refetch:i}}function ki(){const[t,e]=T.useState(null),[n,r]=T.useState(!0);T.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await ee.from("company_settings").select("*").single();if(l)throw l;e(o)}catch(o){console.error("Error loading company settings:",o)}finally{r(!1)}};return{settings:t,loading:n,updateSettings:async o=>{if(!t)return!1;try{const{data:l,error:a}=await ee.from("company_settings").update(o).eq("id",t.id).select().single();if(a)throw a;return e(l),!0}catch(l){return console.error("Error updating company settings:",l),!1}},refetch:s}}function $0({onAdminPanelClick:t}){const{user:e,signOut:n}=Hr(),{isAdmin:r,loading:s}=ca(),{settings:i}=ki();return c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-green-600 rounded-lg p-2 mr-3",children:c.jsx(Sh,{className:"w-6 h-6 text-white"})}),c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(i==null?void 0:i.company_name)||"BarManager"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[!s&&r&&c.jsxs("button",{onClick:t,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Panel Admin"]}),c.jsx("span",{className:"text-sm text-gray-600",children:e==null?void 0:e.email}),c.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(N0,{className:"w-4 h-4 mr-2"}),"Cerrar Sesin"]})]})]})})})}function I0({activeTab:t,onTabChange:e}){const n=[{id:"dashboard",name:"Dashboard",icon:Sh},{id:"inventory",name:"Inventario",icon:Ir},{id:"sales",name:"Mesas",icon:Zs},{id:"history",name:"Historial",icon:b0}];return c.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"flex space-x-8",children:n.map(r=>{const s=r.icon;return c.jsxs("button",{onClick:()=>e(r.id),className:`flex items-center px-4 py-4 text-sm font-medium border-b-2 transition-colors ${t===r.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:"w-5 h-5 mr-2"}),r.name]},r.id)})})})})}function Mu(){const[t,e]=T.useState({totalProducts:0,lowStockItems:0,todaySales:0,totalRevenue:0}),[n,r]=T.useState([]);T.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await ee.from("products").select("*");if(l)throw l;const a=new Date().toISOString().split("T")[0],{data:u,error:d}=await ee.from("sales").select("*").gte("created_at",a);if(d)throw d;const f=(o==null?void 0:o.length)||0,g=(o==null?void 0:o.filter(_=>_.min_stock&&_.stock<=_.min_stock))||[],v=(u==null?void 0:u.length)||0,y=(u==null?void 0:u.reduce((_,j)=>_+j.total,0))||0;e({totalProducts:f,lowStockItems:g.length,todaySales:v,totalRevenue:y}),r(g)}catch(o){console.error("Error loading dashboard data:",o)}},i=({icon:o,title:l,value:a,subtitle:u,color:d})=>c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`${d} rounded-lg p-3 mr-4`,children:c.jsx(o,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:l}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a}),u&&c.jsx("p",{className:"text-sm text-gray-500",children:u})]})]})});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(i,{icon:Ir,title:"Productos",value:t.totalProducts,color:"bg-green-500"}),c.jsx(i,{icon:Uu,title:"Stock Bajo",value:t.lowStockItems,color:"bg-orange-500"}),c.jsx(i,{icon:A0,title:"Ventas Hoy",value:t.todaySales,color:"bg-emerald-500"}),c.jsx(i,{icon:ua,title:"Ingresos Hoy",value:`$${t.totalRevenue.toFixed(2)}`,color:"bg-teal-500"})]})]}),n.length>0&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(Uu,{className:"w-5 h-5 text-orange-500 mr-2"}),"Productos con Stock Bajo"]}),c.jsx("div",{className:"space-y-3",children:n.map(o=>c.jsxs("div",{className:"flex justify-between items-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:o.title}),c.jsx("p",{className:"text-sm text-gray-600",children:o.category})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-medium text-orange-600",children:["Stock: ",o.stock]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Mnimo: ",o.min_stock||0]})]})]},o.id))})]})]})}function L0({product:t,onSave:e,onCancel:n}){const[r,s]=T.useState({title:"",category:"",price:"",stock:"",min_stock:"",description:""}),[i,o]=T.useState(!1),{isAdmin:l}=ca(),a=["Bebidas","Cervezas","Licores","Comidas","Snacks","Otros"];T.useEffect(()=>{t&&s({title:t.title,category:t.category,price:t.price.toString(),stock:t.stock.toString(),min_stock:(t.min_stock??0).toString(),description:t.description||""})},[t]);const u=async d=>{d.preventDefault(),o(!0);try{const f={title:r.title,category:r.category,price:parseFloat(r.price),stock:parseInt(r.stock),min_stock:parseInt(r.min_stock),description:r.description,updated_at:new Date().toISOString()};let g;if(t?{error:g}=await ee.from("products").update(f).eq("id",t.id):{error:g}=await ee.from("products").insert([f]),g)throw g;e()}catch(f){console.error("Error saving product:",f)}finally{o(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t?"Editar Producto":"Agregar Producto"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Th,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo del Producto"}),c.jsx("input",{type:"text",value:r.title,onChange:d=>s({...r,title:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),c.jsxs("select",{value:r.category,onChange:d=>s({...r,category:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[c.jsx("option",{value:"",children:"Seleccionar categora"}),a.map(d=>c.jsx("option",{value:d,children:d},d))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),c.jsx("input",{type:"number",step:"0.01",value:r.price,onChange:d=>s({...r,price:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Actual"}),c.jsx("input",{type:"number",value:r.stock,onChange:d=>s({...r,stock:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Mnimo"}),c.jsx("input",{type:"number",value:r.min_stock,onChange:d=>s({...r,min_stock:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!l&&t})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin (opcional)"}),c.jsx("textarea",{value:r.description,onChange:d=>s({...r,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-20 resize-none",disabled:!l&&t,placeholder:"Descripcin del producto..."})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:i?"Guardando...":t?"Actualizar":"Agregar"})]})]})]})})}function U0(){const[t,e]=T.useState([]),[n,r]=T.useState(!0),[s,i]=T.useState(!1),[o,l]=T.useState(null),[a,u]=T.useState(""),[d,f]=T.useState(""),{isAdmin:g}=ca(),v=["Bebidas","Cervezas","Licores","Comidas","Snacks","Otros"];T.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:h,error:p}=await ee.from("products").select("*").order("title");if(p)throw p;e(h||[])}catch(h){console.error("Error loading products:",h)}finally{r(!1)}},_=()=>{i(!1),l(null),y()},j=async h=>{if(confirm("Ests seguro de que quieres eliminar este producto?"))try{const{error:p}=await ee.from("products").delete().eq("id",h);if(p)throw p;y(),alert("Producto eliminado exitosamente")}catch(p){console.error("Error deleting product:",p),alert("Error al eliminar el producto")}},m=t.filter(h=>{const p=h.title.toLowerCase().includes(a.toLowerCase()),w=d===""||h.category===d;return p&&w});return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Inventario"}),c.jsxs("button",{onClick:()=>i(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[c.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Agregar Producto"]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(P0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Buscar productos...",value:a,onChange:h=>u(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),c.jsxs("select",{value:d,onChange:h=>f(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"",children:"Todas las categoras"}),v.map(h=>c.jsx("option",{value:h,children:h},h))]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(h=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:h.title}),c.jsx("p",{className:"text-sm text-gray-600",children:h.category})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{l(h),i(!0)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(jh,{className:"w-4 h-4"})}),g&&c.jsx("button",{onClick:()=>j(h.id),className:"text-red-400 hover:text-red-600 transition-colors",children:c.jsx(xi,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Precio:"}),c.jsxs("span",{className:"font-medium",children:["$",h.price.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Stock:"}),c.jsx("span",{className:`font-medium ${h.stock<=h.min_stock?"text-red-600":"text-green-600"}`,children:h.stock})]}),h.min_stock&&h.stock<=h.min_stock&&c.jsxs("div",{className:"bg-red-50 text-red-700 text-xs px-2 py-1 rounded flex items-center",children:[c.jsx(Ir,{className:"w-3 h-3 mr-1"}),"Stock bajo"]})]})]},h.id))}),m.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ir,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No se encontraron productos"})]})]}),s&&c.jsx(L0,{product:o,onSave:_,onCancel:()=>{i(!1),l(null)}})]})}function D0(t,e){const[n,r]=T.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(`Error reading localStorage key "${t}":`,i),e}});return[n,i=>{try{const o=i instanceof Function?i(n):i;r(o),window.localStorage.setItem(t,JSON.stringify(o))}catch(o){console.error(`Error setting localStorage key "${t}":`,o)}}]}function M0({selectedTable:t,onTableSelect:e,tableOrders:n}){const{settings:r}=ki(),s=(r==null?void 0:r.max_tables)||12,i=Array.from({length:s},(o,l)=>l+1);return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seleccionar Mesa"}),c.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:i.map(o=>{const l=n[o],a=t===o;return c.jsxs("button",{onClick:()=>e(o),className:`
                relative p-4 rounded-lg border-2 transition-all duration-200 hover:scale-105
                ${a?"border-green-500 bg-green-50 text-green-700":l?"border-orange-300 bg-orange-50 text-orange-700 hover:border-orange-400":"border-gray-200 bg-gray-50 text-gray-700 hover:border-gray-300"}
              `,children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-lg font-bold",children:["Mesa ",o]}),l&&c.jsxs("div",{className:"text-xs mt-1",children:[l.items.reduce((u,d)=>u+d.quantity,0)," items"]})]}),l&&c.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full"})]},o)})})]})}function z0({tableOrders:t,onClearTable:e,onProcessAllSales:n,processing:r}){const s=Object.values(t).filter(o=>o.items.length>0),i=s.reduce((o,l)=>o+l.total,0);return s.length===0?null:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumen de Mesas"}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total General"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",i.toFixed(2)]})]})]}),c.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:s.map(o=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"font-medium text-gray-900",children:["Mesa ",o.tableNumber]}),c.jsxs("span",{className:"font-bold text-green-600",children:["$",o.total.toFixed(2)]})]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[o.items.reduce((l,a)=>l+a.quantity,0)," productos"]})]}),c.jsx("button",{onClick:()=>e(o.tableNumber),className:"ml-3 text-red-400 hover:text-red-600 transition-colors",children:c.jsx(xi,{className:"w-4 h-4"})})]},o.tableNumber))}),c.jsxs("button",{onClick:n,disabled:r,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:[c.jsx(ua,{className:"w-5 h-5 mr-2"}),r?"Procesando...":`Procesar Todas las Ventas (${s.length} mesas)`]})]})}function F0(){const[t,e]=T.useState([]),[n,r]=T.useState(null),[s,i]=D0("tableOrders",{}),[o,l]=T.useState(!0),[a,u]=T.useState(!1),{user:d}=Hr();ki(),T.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:x,error:O}=await ee.from("products").select("*").gt("stock",0).order("title");if(O)throw O;e(x||[])}catch(x){console.error("Error loading products:",x)}finally{l(!1)}},g=()=>!n||!s[n]?[]:s[n].items,v=(x,O)=>{const P=O.reduce((H,V)=>H+V.product.price*V.quantity,0),M=new Date().toISOString();i(H=>{var V;return{...H,[x]:{tableNumber:x,items:O,total:P,createdAt:((V=H[x])==null?void 0:V.createdAt)||M,updatedAt:M}}})},y=x=>{if(!n){alert("Por favor selecciona una mesa primero");return}const O=g(),P=O.find(M=>M.product.id===x.id);if(P){if(P.quantity<x.stock){const M=O.map(H=>H.product.id===x.id?{...H,quantity:H.quantity+1}:H);v(n,M)}}else{const M=[...O,{product:x,quantity:1}];v(n,M)}},_=(x,O)=>{if(!n)return;const P=g();if(O<=0){const M=P.filter(H=>H.product.id!==x);v(n,M)}else{const M=P.map(H=>H.product.id===x?{...H,quantity:O}:H);v(n,M)}},j=x=>{if(!n)return;const P=g().filter(M=>M.product.id!==x);v(n,P)},m=()=>!n||!s[n]?0:s[n].total,h=async x=>{const O=s[x];if(!(!O||O.items.length===0||!d))try{const P={user_id:d.id,total:O.total,items:O.items.map(V=>({product_id:V.product.id,product_name:V.product.title,quantity:V.quantity,price:V.product.price,total:V.product.price*V.quantity}))},{data:M,error:H}=await ee.from("sales").insert([P]).select().single();if(H)throw H;for(const V of O.items){const Ut=V.product.stock-V.quantity,{error:Vr}=await ee.from("products").update({stock:Ut}).eq("id",V.product.id);if(Vr)throw Vr}return i(V=>{const Ut={...V};return delete Ut[x],Ut}),!0}catch(P){return console.error("Error processing sale:",P),!1}},p=async()=>{if(!(!n||!d)){u(!0);try{await h(n)?(f(),alert("Venta procesada exitosamente")):alert("Error al procesar la venta")}finally{u(!1)}}},w=async()=>{if(!d)return;const x=Object.values(s).filter(O=>O.items.length>0);if(x.length!==0){u(!0);try{let O=0;for(const P of x)await h(P.tableNumber)&&O++;f(),O===x.length?alert(`Todas las ventas procesadas exitosamente (${O} mesas)`):alert(`${O} de ${x.length} ventas procesadas exitosamente`)}finally{u(!1)}}},E=x=>{confirm(`Ests seguro de que quieres limpiar la Mesa ${x}?`)&&i(O=>{const P={...O};return delete P[x],P})},S=x=>{r(x)},b=g();return o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[c.jsx(Zs,{className:"w-8 h-8 mr-3 text-green-600"}),"Gestin de Ventas por Mesa"]})}),c.jsx(M0,{selectedTable:n,onTableSelect:S,tableOrders:s}),c.jsx(z0,{tableOrders:s,onClearTable:E,onProcessAllSales:w,processing:a}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Productos Disponibles",n&&c.jsxs("span",{className:"ml-2 text-sm font-normal text-green-600",children:["- Mesa ",n]})]}),n?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(x=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>y(x),children:[c.jsx("h4",{className:"font-medium text-gray-900",children:x.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.category}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"font-bold text-green-600",children:["$",x.price.toFixed(2)]}),c.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["Stock: ",x.stock]})]})]},x.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Selecciona una mesa para comenzar"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n?`Mesa ${n}`:"Carrito"}),c.jsx(Nh,{className:"w-5 h-5 text-gray-600"})]}),c.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:b.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm",children:x.product.title}),c.jsxs("p",{className:"text-xs text-gray-600",children:["$",x.product.price.toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>_(x.product.id,x.quantity-1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(T0,{className:"w-4 h-4"})}),c.jsx("span",{className:"font-medium w-8 text-center",children:x.quantity}),c.jsx("button",{onClick:()=>_(x.product.id,x.quantity+1),disabled:x.quantity>=x.product.stock,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:c.jsx(Eh,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(x.product.id),className:"text-red-400 hover:text-red-600 ml-2",children:c.jsx(xi,{className:"w-4 h-4"})})]})]},x.product.id))}),b.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:n?"Mesa vaca":"Selecciona una mesa"}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"font-semibold text-lg",children:"Total:"}),c.jsxs("span",{className:"font-bold text-xl text-green-600",children:["$",m().toFixed(2)]})]})}),c.jsx("button",{onClick:p,disabled:a||!n,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50",children:a?"Procesando...":`Procesar Mesa ${n}`})]})]})]})]})}function B0(){const[t,e]=T.useState([]),[n,r]=T.useState(!0),[s,i]=T.useState(new Date().toISOString().split("T")[0]);T.useEffect(()=>{o()},[s]);const o=async()=>{try{const{data:u,error:d}=await ee.from("sales").select("*").gte("created_at",s).lt("created_at",new Date(new Date(s).getTime()+864e5).toISOString()).order("created_at",{ascending:!1});if(d)throw d;e(u||[])}catch(u){console.error("Error loading sales:",u)}finally{r(!1)}},l=()=>t.reduce((u,d)=>u+d.total,0),a=()=>t.reduce((u,d)=>u+d.items.reduce((f,g)=>f+g.quantity,0),0);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Historial de Ventas"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Du,{className:"w-5 h-5 text-gray-400"}),c.jsx("input",{type:"date",value:s,onChange:u=>i(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-green-100 rounded-lg p-3 mr-4",children:c.jsx(ua,{className:"w-6 h-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos del Da"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",l().toFixed(2)]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-blue-100 rounded-lg p-3 mr-4",children:c.jsx(Ir,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Productos Vendidos"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a()})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-purple-100 rounded-lg p-3 mr-4",children:c.jsx(Du,{className:"w-6 h-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Total Ventas"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detalle de Ventas"})}),n?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):t.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Nh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No hay ventas para esta fecha"})]}):c.jsx("div",{className:"p-6 space-y-4",children:t.map(u=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-gray-900",children:["Venta #",u.id.slice(0,8)]}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(u.created_at).toLocaleTimeString("es-ES")})]}),c.jsxs("span",{className:"font-bold text-green-600",children:["$",u.total.toFixed(2)]})]}),c.jsx("div",{className:"space-y-2",children:u.items.map((d,f)=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-gray-700",children:[d.quantity,"x ",d.product_name||"Producto"]}),c.jsxs("span",{className:"text-gray-900",children:["$",d.total.toFixed(2)]})]},f))})]},u.id))})]})]})}function W0({user:t,onSave:e,onCancel:n}){const[r,s]=T.useState({full_name:t.full_name||"",role:t.role,number_phone:t.number_phone||""}),[i,o]=T.useState(!1),l=async a=>{a.preventDefault(),o(!0);try{const{error:u}=await ee.from("profiles").update({full_name:r.full_name||null,role:r.role,number_phone:r.number_phone||null}).eq("id",t.id);if(u)throw u;e()}catch(u){console.error("Error updating user:",u),alert("Error al actualizar el usuario")}finally{o(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Editar Usuario"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Th,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:r.full_name,onChange:a=>s({...r,full_name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Nombre del usuario"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{value:r.role,onChange:a=>s({...r,role:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"user",children:"Usuario"}),c.jsx("option",{value:"admin",children:"Administrador"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),c.jsx("input",{type:"tel",value:r.number_phone,onChange:a=>s({...r,number_phone:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Nmero de telfono"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center",children:[c.jsx(bh,{className:"w-4 h-4 mr-2"}),i?"Guardando...":"Guardar"]})]})]})]})})}function H0(){const[t,e]=T.useState("company"),[n,r]=T.useState([]),[s,i]=T.useState(null),[o,l]=T.useState(!1),{settings:a,loading:u,updateSettings:d}=ki(),[f,g]=T.useState({company_name:"",max_tables:12});T.useEffect(()=>{v()},[]),T.useEffect(()=>{a&&g({company_name:a.company_name,max_tables:a.max_tables})},[a]);const v=async()=>{try{const{data:h,error:p}=await ee.from("profiles").select("*").order("full_name");if(p)throw p;r(h||[])}catch(h){console.error("Error loading users:",h)}},y=async()=>{l(!0);try{const h=await d({company_name:f.company_name,max_tables:f.max_tables});alert(h?"Configuracin guardada exitosamente":"Error al guardar la configuracin")}catch(h){console.error("Error saving settings:",h),alert("Error al guardar la configuracin")}finally{l(!1)}},_=()=>{i(null),v()},j=async h=>{if(confirm("Ests seguro de que quieres eliminar este usuario?"))try{const{error:p}=await ee.auth.admin.deleteUser(h);if(p)throw p;v(),alert("Usuario eliminado exitosamente")}catch(p){console.error("Error deleting user:",p),alert("Error al eliminar el usuario")}},m=[{id:"company",name:"Empresa",icon:S0},{id:"tables",name:"Mesas",icon:O0},{id:"users",name:"Usuarios",icon:Zs}];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[c.jsx(Ch,{className:"w-8 h-8 mr-3 text-green-600"}),"Panel de Administrador"]})}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("nav",{className:"flex space-x-8 px-6",children:m.map(h=>{const p=h.icon;return c.jsxs("button",{onClick:()=>e(h.id),className:`flex items-center px-4 py-4 text-sm font-medium border-b-2 transition-colors ${t===h.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(p,{className:"w-5 h-5 mr-2"}),h.name]},h.id)})})}),c.jsxs("div",{className:"p-6",children:[t==="company"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuracin de la Empresa"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa"}),c.jsx("input",{type:"text",value:f.company_name,onChange:h=>g({...f,company_name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nmero Mximo de Mesas"}),c.jsx("input",{type:"number",min:"1",max:"50",value:f.max_tables,onChange:h=>g({...f,max_tables:parseInt(h.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),c.jsxs("button",{onClick:y,disabled:o,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center",children:[c.jsx(bh,{className:"w-4 h-4 mr-2"}),o?"Guardando...":"Guardar Configuracin"]})]}),t==="tables"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestin de Mesas"}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("p",{className:"text-green-800",children:[c.jsx("strong",{children:"Mesas configuradas:"})," ",(a==null?void 0:a.max_tables)||12," mesas"]}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Puedes cambiar el nmero de mesas en la configuracin de la empresa."})]}),c.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3",children:Array.from({length:(a==null?void 0:a.max_tables)||12},(h,p)=>p+1).map(h=>c.jsx("div",{className:"p-4 border-2 border-gray-200 rounded-lg text-center bg-gray-50",children:c.jsxs("div",{className:"text-lg font-bold text-gray-700",children:["Mesa ",h]})},h))})]}),t==="users"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestin de Usuarios"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telfono"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(h=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.full_name||"Sin nombre"}),c.jsx("div",{className:"text-sm text-gray-500",children:h.id})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:h.number_phone||"No especificado"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h.role==="admin"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.role==="admin"?"Administrador":"Usuario"})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.rating,"/5"]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[c.jsx("button",{onClick:()=>i(h),className:"text-green-600 hover:text-green-900 transition-colors mr-3",children:c.jsx(jh,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(h.id),className:"text-red-600 hover:text-red-900 transition-colors",children:c.jsx(xi,{className:"w-4 h-4"})})]})]},h.id))})]})})]})]})]}),s&&c.jsx(W0,{user:s,onSave:_,onCancel:()=>i(null)})]})}function V0(){const[t,e]=T.useState("dashboard"),n=()=>{switch(t){case"dashboard":return c.jsx(Mu,{});case"inventory":return c.jsx(U0,{});case"sales":return c.jsx(F0,{});case"history":return c.jsx(B0,{});case"admin":return c.jsx(H0,{});default:return c.jsx(Mu,{})}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx($0,{onAdminPanelClick:()=>e("admin")}),c.jsx(I0,{activeTab:t,onTabChange:e}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n()})]})}function q0(){const{user:t,loading:e}=Hr();return e?c.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):t?c.jsx(V0,{}):c.jsx(R0,{})}function K0(){return c.jsx(_0,{children:c.jsx(q0,{})})}Xd(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(K0,{})}));
